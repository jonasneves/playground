const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ChatApp-C02TGBru.js","./react-vendor-Cz34A0j2.js","./vendor-7OC5HNn7.js","./state-CWLQzQDb.js","./useLocalStorage-Dd71kNJg.js","./usePerformanceMonitor-CUuhEFn3.js","./CMSApp-Con-TCd5.js","./index-G5KGm8r7.js","./Dashboard-DQ4twrcq.js","./FileBrowser-DxBG52dA.js","./TodoApp-B-lNcA6-.js","./SettingsApp-BPk5_XY1.js","./App-IVtORsPj.js"])))=>i.map(i=>d[i]);
import{c as w,r as p,u as E,j as e,H as _,R as N,S as k,T as A,L,a as R,N as O,b as P,d as $}from"./react-vendor-Cz34A0j2.js";import{p as C}from"./state-CWLQzQDb.js";import"./vendor-7OC5HNn7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}})();const z="modulepreload",T=function(i,s){return new URL(i,s).href},j={},f=function(s,l,a){let t=Promise.resolve();if(l&&l.length>0){let u=function(c){return Promise.all(c.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const o=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),d=n?.nonce||n?.getAttribute("nonce");t=u(l.map(c=>{if(c=T(c,a),c in j)return;j[c]=!0;const m=c.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(a)for(let b=o.length-1;b>=0;b--){const y=o[b];if(y.href===c&&(!m||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${x}`))return;const h=document.createElement("link");if(h.rel=m?"stylesheet":z,m||(h.as="script"),h.crossOrigin="",h.href=c,d&&h.setAttribute("nonce",d),document.head.appendChild(h),m)return new Promise((b,y)=>{h.addEventListener("load",b),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=o,window.dispatchEvent(n),!n.defaultPrevented)throw o}return t.then(o=>{for(const n of o||[])n.status==="rejected"&&r(n.reason);return s().catch(r)})};function D(i="auth-storage"){return w()(C(s=>({token:null,user:null,isAuthenticated:!1,setAuth:(l,a)=>s({token:l,user:a,isAuthenticated:!0}),logout:()=>{s({token:null,user:null,isAuthenticated:!1}),localStorage.clear(),window.location.href="/"}}),{name:i}))}function I(i=3e5){return w()((s,l)=>({cacheTimeout:i,getCache:(a,t,r)=>{const o=`gh_${a}_${t}_${r}`,n=localStorage.getItem(o);if(!n)return null;try{const d=JSON.parse(n);return Date.now()-d.timestamp>l().cacheTimeout?(localStorage.removeItem(o),null):d}catch{return null}},setCache:(a,t,r,o,n)=>{const d=`gh_${a}_${t}_${r}`;try{localStorage.setItem(d,JSON.stringify({content:o,sha:n,timestamp:Date.now()}))}catch(u){console.warn("Cache storage failed:",u)}},clearCache:(a,t)=>{const r=`gh_${a}_${t}_`;Object.keys(localStorage).filter(n=>n.startsWith(r)).forEach(n=>localStorage.removeItem(n))},invalidateCache:(a,t,r)=>{const o=`gh_${a}_${t}_${r}`;localStorage.removeItem(o)}}))}function M(i="analytics-storage",s={enabled:!0,maxEvents:100}){return w()(C((l,a)=>({events:[],errors:[],metrics:[],track:(t,r={})=>{if(!s.enabled)return;const o={type:t,data:r,timestamp:Date.now()};l(n=>({events:[...n.events.slice(-(s.maxEvents-1)),o]})),console.log("[Analytics]",t,r)},logError:t=>{s.enabled&&(console.error("[Analytics] Error logged:",t),l(r=>({errors:[...r.errors.slice(-99),t]})))},trackMetric:(t,r,o,n)=>{if(!s.enabled)return;const d=n?o>n:!1,u={appName:t,metricName:r,duration:o,timestamp:Date.now(),threshold:n,exceedsThreshold:d};d&&console.warn(`[${t}] ${r} exceeded threshold: ${o.toFixed(2)}ms > ${n}ms`),l(c=>({metrics:[...c.metrics.slice(-999),u]}))},clearMetrics:()=>l({metrics:[]}),clearErrors:()=>l({errors:[]}),getMetricStats:(t,r)=>{const o=a().metrics.filter(u=>u.appName===t&&u.metricName===r);if(o.length===0)return null;const n=o.map(u=>u.duration),d=o.filter(u=>u.exceedsThreshold).length;return{count:o.length,average:n.reduce((u,c)=>u+c,0)/n.length,min:Math.min(...n),max:Math.max(...n),exceedCount:d}}}),{name:i,partialize:l=>({events:l.events.slice(-50),metrics:l.metrics.slice(-100),errors:l.errors.slice(-20)})}))}function V({user:i,onLogout:s,onClearCache:l}){const[a,t]=p.useState(!1),r=p.useRef(null),o=E();p.useEffect(()=>{function c(m){r.current&&!r.current.contains(m.target)&&t(!1)}return document.addEventListener("click",c),()=>document.removeEventListener("click",c)},[]);const n=()=>{confirm("Clear all cached data? Apps will reload from the repository.")&&(l(),window.location.reload())},d=()=>{t(!1),o("/settings")},u=()=>{t(!1),o("/gallery")};return i?e.jsxs("div",{ref:r,className:"fixed top-6 right-6 z-50",children:[e.jsxs("button",{onClick:()=>t(!a),"aria-label":"Open user menu","aria-expanded":a,className:"group flex items-center gap-0 group-hover:gap-3 bg-white/80 backdrop-blur-md border border-neutral-200 rounded-full px-2 py-2 group-hover:pr-4 hover:bg-white transition-all duration-300 shadow-sm overflow-hidden",children:[e.jsx("img",{src:i.avatar_url,alt:i.login,loading:"lazy",className:"w-8 h-8 rounded-full ring-2 ring-white flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 whitespace-nowrap max-w-0 group-hover:max-w-xs opacity-0 group-hover:opacity-100 transition-all duration-300",children:i.name||i.login})]}),e.jsxs("div",{className:`absolute top-14 right-0 bg-white border border-neutral-200 rounded-2xl shadow-xl min-w-[200px] overflow-hidden transition-all duration-200 ${a?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[e.jsxs("button",{onClick:u,"aria-label":"Go to home",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors",children:[e.jsx(_,{size:16})," Home"]}),e.jsxs("button",{onClick:()=>window.location.reload(),"aria-label":"Refresh page",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(N,{size:16})," Refresh"]}),e.jsxs("button",{onClick:d,"aria-label":"Open settings",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(k,{size:16})," Settings"]}),e.jsxs("button",{onClick:n,"aria-label":"Clear cache",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(A,{size:16})," Clear Cache"]}),e.jsxs("button",{onClick:s,"aria-label":"Log out",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-neutral-100",children:[e.jsx(L,{size:16})," Logout"]})]})]}):null}class B extends p.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,l){const a={message:s.message,stack:s.stack,componentStack:l.componentStack||void 0,timestamp:Date.now(),appName:this.props.appName};this.props.onError&&this.props.onError(a),console.error("[ErrorBoundary] Caught error:",a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"#ef4444",background:"#fef2f2",borderRadius:"8px",margin:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 12px",fontSize:"1.25rem",fontWeight:600},children:"Something went wrong"}),e.jsx("p",{style:{margin:"0 0 16px",color:"#991b1b",fontSize:"0.875rem"},children:this.state.error?.message||"An unexpected error occurred"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Reload Page"})]}):this.props.children}}const v={version:"1.0.0",repository:{owner:"jonasneves",name:"playground"},branding:{title:"Playground",subtitle:"Launch and experiment with apps",theme:{primary:"#1e3a5f",secondary:"#2c4f7c"}},features:{analytics:!0,errorTracking:!0,serviceWorker:!1,caching:!0},api:{baseUrl:"https://api.github.com/repos",cacheTimeout:3e5},oauth:{serviceUrl:"https://oauth.neevs.io"}},F=D("auth-storage"),U=I(v.api.cacheTimeout),W=M("analytics-storage",{enabled:v.features.analytics,maxEvents:100});function H(){const i=E();return e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center px-6",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("h1",{className:"text-6xl font-bold text-neutral-900 mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-neutral-600 mb-8",children:"Page not found"}),e.jsxs("button",{onClick:()=>i("/"),"aria-label":"Return to home page",className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-600 text-white rounded-xl hover:bg-brand-700 transition-colors",children:[e.jsx(_,{size:20}),"Back to home"]})]})})}const K=p.lazy(()=>f(()=>import("./ChatApp-C02TGBru.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),q=p.lazy(()=>f(()=>import("./CMSApp-Con-TCd5.js"),__vite__mapDeps([6,1,2,3,7,5]),import.meta.url)),J=p.lazy(()=>f(()=>import("./Dashboard-DQ4twrcq.js"),__vite__mapDeps([8,1,2,3,7,5]),import.meta.url)),G=p.lazy(()=>f(()=>import("./FileBrowser-DxBG52dA.js"),__vite__mapDeps([9,1,2,3,7,5]),import.meta.url)),Q=p.lazy(()=>f(()=>import("./TodoApp-B-lNcA6-.js"),__vite__mapDeps([10,1,2,3,4]),import.meta.url)),X=p.lazy(()=>f(()=>import("./SettingsApp-BPk5_XY1.js"),__vite__mapDeps([11,1,2,3]),import.meta.url));function Y(){return e.jsx("div",{className:"loading",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-5 border-4 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("p",{children:"Loading app..."})]})})}function g({appName:i,children:s}){const l=W(n=>n.logError),{user:a,logout:t}=F(),{clearCache:r}=U(),o=()=>{r(v.repository.owner,v.repository.name)};return e.jsxs(e.Fragment,{children:[e.jsx(V,{user:a,onLogout:t,onClearCache:o}),e.jsx(B,{appName:i,onError:l,children:e.jsx(p.Suspense,{fallback:e.jsx(Y,{}),children:s})})]})}const Z=R([{path:"/",element:e.jsx(O,{to:"/gallery",replace:!0})},{path:"/gallery",lazy:async()=>({Component:(await f(()=>import("./App-IVtORsPj.js"),__vite__mapDeps([12,1,2,3]),import.meta.url)).default})},{path:"/apps/chat",element:e.jsx(g,{appName:"chat",children:e.jsx(K,{})})},{path:"/apps/cms",element:e.jsx(g,{appName:"cms",children:e.jsx(q,{})})},{path:"/apps/dashboard",element:e.jsx(g,{appName:"dashboard",children:e.jsx(J,{})})},{path:"/apps/file-browser",element:e.jsx(g,{appName:"file-browser",children:e.jsx(G,{})})},{path:"/apps/todo",element:e.jsx(g,{appName:"todo",children:e.jsx(Q,{})})},{path:"/settings",element:e.jsx(g,{appName:"settings",children:e.jsx(X,{})})},{path:"*",element:e.jsx(H,{})}]),S=document.getElementById("root");if(!S)throw new Error("Root element not found");P.createRoot(S).render(e.jsx(p.StrictMode,{children:e.jsx($,{router:Z})}));export{v as A,V as U,U as a,W as b,F as u};
