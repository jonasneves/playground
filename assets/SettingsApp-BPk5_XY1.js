import{u as b,r as j,j as e,S as f,i as p,G as v}from"./react-vendor-Cz34A0j2.js";import{u as y,a as N,b as w,A as r}from"./index-DwwlUgSI.js";import"./vendor-7OC5HNn7.js";import"./state-CWLQzQDb.js";function n({children:s,title:t}){return e.jsxs("div",{className:"bg-white rounded-2xl border border-neutral-200 p-6 space-y-4",children:[e.jsx("h2",{className:"text-base font-semibold text-neutral-700",children:t}),s]})}function a({label:s,value:t,action:l}){return e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-neutral-100 last:border-b-0",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:s}),t&&e.jsx("span",{className:"text-sm text-neutral-900 font-medium",children:t}),l&&e.jsx("button",{onClick:l.onClick,className:`px-4 py-1.5 text-sm font-medium rounded-lg transition-colors ${l.variant==="danger"?"text-red-600 hover:bg-red-50":"text-neutral-700 hover:bg-neutral-100"}`,children:l.label})]})}function C({label:s,used:t,total:l,unit:i="KB"}){const o=Math.min(t/l*100,100);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:s}),e.jsxs("span",{className:"text-neutral-900 font-medium",children:[t.toFixed(1)," ",i," / ",l.toFixed(1)," ",i]})]}),e.jsx("div",{className:"h-2 bg-neutral-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-brand-600 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]})}function B(){const s=b(),{user:t,logout:l}=y(),{clearCache:i}=N(),{metrics:o}=w(),x=()=>{confirm("Are you sure you want to log out?")&&(l(),s("/"))},u=()=>{confirm("Clear all cached data? This will reload the page.")&&(i(r.repository.owner,r.repository.name),window.location.reload())},m=()=>{confirm("Delete all local data including todos, chat history, and cache? This cannot be undone.")&&(localStorage.clear(),window.location.href="/")},h=j.useMemo(()=>{let d=0;for(let c in localStorage)localStorage.hasOwnProperty(c)&&(d+=localStorage[c].length+c.length);return d/1024},[]),g=5*1024;return e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[e.jsxs("div",{className:"bg-white border-b border-neutral-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-xl flex items-center justify-center",children:e.jsx(f,{className:"text-brand-600",size:22})}),e.jsx("h1",{className:"text-xl font-semibold text-neutral-900",children:"Settings"})]}),e.jsx("button",{onClick:()=>s("/"),className:"px-4 py-2 text-sm text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:"← Back"})]}),e.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8 space-y-6",children:[e.jsx(n,{title:"Profile",children:e.jsxs("div",{className:"flex items-center gap-4 py-2",children:[t?.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.login,loading:"lazy",className:"w-16 h-16 rounded-full ring-2 ring-neutral-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-600 flex items-center justify-center text-white text-2xl font-bold",children:t?.login?.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-neutral-900",children:t?.name||t?.login}),e.jsx("div",{className:"text-sm text-neutral-500",children:t?.email||`@${t?.login}`})]})]})}),e.jsxs(n,{title:"Repository",children:[e.jsx(a,{label:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(p,{size:14}),"Owner"]}),value:r.repository.owner}),e.jsx(a,{label:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(v,{size:14}),"Repository"]}),value:r.repository.name}),e.jsx(a,{label:"Version",value:r.version})]}),e.jsxs(n,{title:"Storage",children:[e.jsx(C,{label:"Data Usage",used:h,total:g,unit:"KB"}),e.jsx(a,{label:"Cache",action:{label:"Clear Cache",onClick:u}}),e.jsx(a,{label:"Performance Metrics",value:`${Object.keys(o).length} tracked`})]}),e.jsxs(n,{title:"Developer",children:[e.jsx(a,{label:"GitHub Token",value:"••••••••••••••••"}),e.jsx(a,{label:"Analytics",value:r.features.analytics?"Enabled":"Disabled"}),e.jsx(a,{label:"Error Tracking",value:r.features.errorTracking?"Enabled":"Disabled"})]}),e.jsxs(n,{title:"Account",children:[e.jsx(a,{label:"Log out of your account",action:{label:"Log Out",onClick:x}}),e.jsx(a,{label:"Delete all local data",action:{label:"Delete",onClick:m,variant:"danger"}})]})]})]})}export{B as default};
