const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatApp-DmmJVEqF.js","assets/react-vendor-CaUiYEua.js","assets/vendor-GYNWQ9K3.js","assets/state-DiVqNZBa.js","assets/useLocalStorage-C_Sg1gXz.js","assets/usePerformanceMonitor-qHkTY8XR.js","assets/CMSApp-CyQA2Nub.js","assets/index-DpWVjKOu.js","assets/Dashboard-ldV5SMxb.js","assets/FileBrowser-BOF6hfOy.js","assets/TodoApp-Be8IcVfa.js","assets/SettingsApp-CUfjSK76.js","assets/MedicalViz-BIEJjFII.js"])))=>i.map(i=>d[i]);
import{c as _,r as c,j as e,u as z,G as te,C as re,H as K,R as se,S as ne,T as ae,L as oe,A as le,a as ie,X as ce,b as de,d as H,P as ue,e as he,f as me,N as xe,g as pe,h as fe}from"./react-vendor-CaUiYEua.js";import{p as G}from"./state-DiVqNZBa.js";import"./vendor-GYNWQ9K3.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();function ge(n="auth-storage"){return _()(G(t=>({token:null,user:null,isAuthenticated:!1,setAuth:(a,l)=>t({token:a,user:l,isAuthenticated:!0}),logout:()=>{t({token:null,user:null,isAuthenticated:!1}),localStorage.clear(),window.location.href="/"}}),{name:n}))}function be(n=3e5){return _()((t,a)=>({cacheTimeout:n,getCache:(l,s,r)=>{const o=`gh_${l}_${s}_${r}`,i=localStorage.getItem(o);if(!i)return null;try{const x=JSON.parse(i);return Date.now()-x.timestamp>a().cacheTimeout?(localStorage.removeItem(o),null):x}catch{return null}},setCache:(l,s,r,o,i)=>{const x=`gh_${l}_${s}_${r}`;try{localStorage.setItem(x,JSON.stringify({content:o,sha:i,timestamp:Date.now()}))}catch(h){console.warn("Cache storage failed:",h)}},clearCache:(l,s)=>{const r=`gh_${l}_${s}_`;Object.keys(localStorage).filter(i=>i.startsWith(r)).forEach(i=>localStorage.removeItem(i))},invalidateCache:(l,s,r)=>{const o=`gh_${l}_${s}_${r}`;localStorage.removeItem(o)}}))}function je(n="analytics-storage",t={enabled:!0,maxEvents:100}){return _()(G((a,l)=>({events:[],errors:[],metrics:[],track:(s,r={})=>{if(!t.enabled)return;const o={type:s,data:r,timestamp:Date.now()};a(i=>({events:[...i.events.slice(-(t.maxEvents-1)),o]})),console.log("[Analytics]",s,r)},logError:s=>{t.enabled&&(console.error("[Analytics] Error logged:",s),a(r=>({errors:[...r.errors.slice(-99),s]})))},trackMetric:(s,r,o,i)=>{if(!t.enabled)return;const x=i?o>i:!1,h={appName:s,metricName:r,duration:o,timestamp:Date.now(),threshold:i,exceedsThreshold:x};x&&console.warn(`[${s}] ${r} exceeded threshold: ${o.toFixed(2)}ms > ${i}ms`),a(p=>({metrics:[...p.metrics.slice(-999),h]}))},clearMetrics:()=>a({metrics:[]}),clearErrors:()=>a({errors:[]}),getMetricStats:(s,r)=>{const o=l().metrics.filter(h=>h.appName===s&&h.metricName===r);if(o.length===0)return null;const i=o.map(h=>h.duration),x=o.filter(h=>h.exceedsThreshold).length;return{count:o.length,average:i.reduce((h,p)=>h+p,0)/i.length,min:Math.min(...i),max:Math.max(...i),exceedCount:x}}}),{name:n,partialize:a=>({events:a.events.slice(-50),metrics:a.metrics.slice(-100),errors:a.errors.slice(-20)})}))}function we(n="repository-storage"){return _()(G(t=>({repository:null,setRepository:a=>t({repository:a}),clearRepository:()=>t({repository:null})}),{name:n}))}const W=c.createContext(null);function ve({children:n}){const[t,a]=c.useState([]),l=c.useCallback(()=>{a([])},[]);return e.jsx(W.Provider,{value:{customItems:t,setCustomItems:a,clearCustomItems:l},children:n})}function ye(){const n=c.useContext(W);if(!n)throw new Error("useUserMenu must be used within UserMenuProvider");return n}function Ne({children:n,oauthServiceUrl:t,onAuthChange:a,isAuthenticated:l}){const[s,r]=c.useState(!0),[o,i]=c.useState(!1),[x,h]=c.useState(!1);c.useEffect(()=>{const d=new URLSearchParams(window.location.search),u=d.has("token")||d.has("error"),g=localStorage.getItem("gh_token");if(!u&&!g){r(!1);return}const b=document.createElement("script");return b.src=`${t}/github-auth.js?v=${Date.now()}`,b.async=!0,b.onload=()=>{setTimeout(()=>{window.GitHubAuth?i(!0):(console.error("GitHubAuth not available after script load"),r(!1))},100)},b.onerror=()=>{console.error("Failed to load OAuth script"),r(!1)},document.head.appendChild(b),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[t]),c.useEffect(()=>{if(!o)return;const d=new URLSearchParams(window.location.search),u=d.has("token")||d.has("error");if(window.GitHubAuth.isAuthenticated()){const g=window.GitHubAuth.getUser(),b=window.GitHubAuth.getToken();g&&b&&setTimeout(()=>{a(b,g),r(!1)},0)}else u&&(window.GitHubAuth.init({scope:"repo",autoRedirect:!1,onLogin:g=>{const b=window.GitHubAuth.getUser();b&&setTimeout(()=>{a(g,b),r(!1)},0)}}),h(!0)),r(!1)},[o,a]);const p=async()=>{if(o)!x&&window.GitHubAuth&&(await window.GitHubAuth.init({scope:"repo",autoRedirect:!1,onLogin:d=>{const u=window.GitHubAuth.getUser();u&&setTimeout(()=>{a(d,u)},0)}}),h(!0)),window.GitHubAuth.login();else{r(!0);const d=document.createElement("script");d.src=`${t}/github-auth.js?v=${Date.now()}`,d.async=!0,d.onload=()=>{setTimeout(async()=>{window.GitHubAuth&&(await window.GitHubAuth.init({scope:"repo",autoRedirect:!1,onLogin:u=>{const g=window.GitHubAuth.getUser();g&&setTimeout(()=>{a(u,g)},0)}}),window.GitHubAuth.login())},100)},document.head.appendChild(d)}};return s?e.jsx("div",{className:"loading",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{border:"4px solid rgba(255,255,255,0.3)",borderRadius:"50%",borderTopColor:"white",width:"50px",height:"50px",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),e.jsx("p",{children:"Initializing..."})]})}):l?e.jsx(e.Fragment,{children:n}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100 flex items-center justify-center p-6",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-500 to-brand-600 rounded-2xl mx-auto flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Welcome to Playground"}),e.jsx("p",{className:"text-neutral-600",children:"Launch and experiment with apps powered by your GitHub repository"})]}),e.jsxs("div",{className:"space-y-3 text-sm text-neutral-600",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Access your repository files and content"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Manage todos, chat, and browse files"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Secure authentication with GitHub"})]})]}),e.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-brand-500 to-brand-600 hover:from-brand-600 hover:to-brand-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),"Sign in with GitHub"]}),e.jsx("p",{className:"text-xs text-center text-neutral-500",children:"By signing in, you'll be redirected to GitHub to authorize access"})]})})})}function R({user:n,onLogout:t,onClearCache:a}){const[l,s]=c.useState(!1),r=c.useRef(null),o=z(),{customItems:i}=ye();c.useEffect(()=>{function d(g){r.current&&!r.current.contains(g.target)&&s(!1)}function u(g){g.key==="Escape"&&s(!1)}if(l)return document.addEventListener("mousedown",d),document.addEventListener("keydown",u),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",u)}},[l]);const x=()=>{confirm("Clear all cached data? Apps will reload from the repository.")&&(a(),window.location.reload())},h=()=>{s(!1),o("/settings")},p=()=>{s(!1),o("/gallery",{replace:!0})};return e.jsxs("div",{ref:r,className:"fixed top-4 right-6 z-50",children:[e.jsx("button",{onClick:()=>s(!l),"aria-label":"Open user menu","aria-expanded":l,className:"group relative flex items-center bg-white/80 backdrop-blur-md border border-neutral-200 rounded-full py-1 px-1 hover:pr-3 hover:bg-white transition-[padding,background-color] duration-300 ease-out shadow-sm",children:n?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:n.avatar_url,alt:n.login,loading:"lazy",className:"w-9 h-9 rounded-full flex-shrink-0 object-cover"}),e.jsxs("div",{className:"flex flex-col max-w-0 group-hover:max-w-[150px] overflow-hidden opacity-0 group-hover:opacity-100 transition-[max-width,opacity] duration-300 ease-out group-hover:ml-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900 whitespace-nowrap leading-tight",children:n.name||n.login}),e.jsxs("span",{className:"text-xs text-neutral-500 whitespace-nowrap leading-tight",children:["@",n.login]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-neutral-100 flex items-center justify-center flex-shrink-0",children:e.jsx(te,{size:18,className:"text-neutral-600"})}),e.jsx(re,{size:14,className:"absolute -top-0.5 -right-0.5 text-amber-500 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),e.jsx("span",{className:"text-sm font-medium text-neutral-600 whitespace-nowrap max-w-0 group-hover:max-w-[120px] overflow-hidden opacity-0 group-hover:opacity-100 transition-[max-width,opacity] duration-300 ease-out group-hover:ml-2",children:"Not logged in"})]})}),e.jsxs("div",{className:`absolute top-14 right-0 bg-white border border-neutral-200 rounded-2xl shadow-xl min-w-[200px] overflow-hidden transition-all duration-100 ${l?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[e.jsxs("button",{onClick:p,"aria-label":"Go to app gallery",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors",children:[e.jsx(K,{size:16})," Gallery"]}),e.jsxs("button",{onClick:()=>window.location.reload(),"aria-label":"Refresh page",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(se,{size:16})," Refresh"]}),n&&e.jsxs("button",{onClick:h,"aria-label":"Open settings",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(ne,{size:16})," Settings"]}),i.length>0&&e.jsx(e.Fragment,{children:i.map(d=>d.component?e.jsx("div",{className:"border-t border-neutral-100",children:d.component},d.id):e.jsxs("button",{onClick:()=>{d.onClick(),s(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-colors border-t border-neutral-100 ${d.variant==="danger"?"text-red-600 hover:bg-red-50":"text-neutral-700 hover:bg-neutral-50"}`,children:[d.icon&&e.jsx(d.icon,{size:16}),d.label]},d.id))}),e.jsxs("button",{onClick:x,"aria-label":"Clear cache",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(ae,{size:16})," Clear Cache"]}),n&&e.jsxs("button",{onClick:t,"aria-label":"Log out",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-neutral-100",children:[e.jsx(oe,{size:16})," Logout"]})]})]})}function M(n,t){return t?n.split(new RegExp(`(${t})`,"gi")).map((l,s)=>l.toLowerCase()===t.toLowerCase()?e.jsx("mark",{className:"bg-yellow-200 text-neutral-900",children:l},s):l):n}function ke({appName:n,manifest:t,path:a,onLaunch:l,isSelected:s=!1,searchTerm:r=""}){return t?e.jsxs("div",{className:`bg-white rounded-xl border ${s?"border-brand-500 ring-2 ring-brand-200":"border-neutral-200"} shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all duration-150 overflow-hidden group flex flex-col h-full`,children:[e.jsx("div",{className:`w-full bg-gradient-to-br from-brand-50 to-neutral-50 flex items-center justify-center ${t.thumbnail?"h-32":"h-20"}`,children:t.thumbnail?e.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-full h-full object-cover",onError:o=>{o.currentTarget.style.display="none"}}):e.jsx("div",{className:"text-4xl text-neutral-400",children:t.name.charAt(0)})}),e.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900 mb-1",children:M(t.name,r)}),e.jsx("p",{className:"text-neutral-600 text-xs leading-relaxed mb-3 line-clamp-2",children:M(t.description||"",r)}),t.tech&&t.tech.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:t.tech.map(o=>e.jsx("span",{className:"bg-neutral-100 text-neutral-700 px-2 py-0.5 rounded-full text-[10px] font-medium",children:o},o))}),e.jsxs("button",{onClick:()=>l(a,t.name),"aria-label":`Launch ${t.name} app`,className:"inline-flex items-center justify-center gap-1.5 bg-gradient-to-r from-brand-600 to-brand-700 hover:from-brand-700 hover:to-brand-800 text-white px-3 py-2 rounded-lg font-medium text-xs transition-all duration-150 group-hover:gap-2 mt-auto",children:["Launch App",e.jsx(le,{size:14,className:"transition-transform duration-150"})]})]})]}):e.jsx("div",{className:"bg-white rounded-2xl border border-neutral-200 shadow-sm overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:n}),e.jsx("p",{className:"text-neutral-400",children:"Loading..."})]})})}function Se({options:n,value:t,onChange:a}){return e.jsx("div",{className:"inline-flex bg-neutral-100 rounded-full p-1 gap-1",children:n.map(l=>e.jsx("button",{onClick:()=>a(l.value),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-100 ${t===l.value?"bg-white text-neutral-900 shadow-sm":"text-neutral-500 hover:text-neutral-700"}`,children:l.label},l.value))})}const Ce={todo:"productivity",dashboard:"productivity",settings:"productivity",cms:"content","file-browser":"content",chat:"productivity","medical-viz":"content"},U=()=>e.jsx("div",{className:"fixed top-[70%] left-[75%] -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] sm:w-[600px] sm:h-[600px] rounded-full bg-brand-500 blur-[100px] sm:blur-[150px] opacity-40 animate-breathe pointer-events-none"}),Ee=()=>e.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 shadow-sm overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-20 bg-gradient-to-br from-neutral-100 to-neutral-50"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-neutral-200 rounded w-full mb-1"}),e.jsx("div",{className:"h-3 bg-neutral-200 rounded w-2/3 mb-3"}),e.jsxs("div",{className:"flex gap-1.5 mb-3",children:[e.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-12"}),e.jsx("div",{className:"h-5 bg-neutral-200 rounded-full w-16"})]}),e.jsx("div",{className:"h-8 bg-neutral-200 rounded-lg w-full"})]})]}),Ae=({onClose:n})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:n,children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Keyboard Shortcuts"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Start typing"}),e.jsx("kbd",{className:"bg-neutral-100 text-neutral-900 px-2 py-1 rounded text-sm font-mono",children:"Any key"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Clear search"}),e.jsx("kbd",{className:"bg-neutral-100 text-neutral-900 px-2 py-1 rounded text-sm font-mono",children:"Esc"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Navigate apps"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("kbd",{className:"bg-neutral-100 text-neutral-900 px-2 py-1 rounded text-sm font-mono",children:"↑"}),e.jsx("kbd",{className:"bg-neutral-100 text-neutral-900 px-2 py-1 rounded text-sm font-mono",children:"↓"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Launch app"}),e.jsx("kbd",{className:"bg-neutral-100 text-neutral-900 px-2 py-1 rounded text-sm font-mono",children:"Enter"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Show shortcuts"}),e.jsx("kbd",{className:"bg-neutral-100 text-neutral-900 px-2 py-1 rounded text-sm font-mono",children:"?"})]})]}),e.jsx("button",{onClick:n,className:"mt-6 w-full bg-brand-600 hover:bg-brand-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Close"})]})}),F=({title:n,subtitle:t})=>e.jsxs("header",{className:"pt-6 pb-8",children:[e.jsxs("h1",{className:"text-2xl font-semibold text-neutral-900 flex items-center gap-2 mb-1",children:[e.jsx(de,{className:"text-brand-600",size:24}),n]}),e.jsx("p",{className:"text-sm text-neutral-600",children:t})]});function Le({config:n,user:t,onLogout:a,onClearCache:l,onTrack:s,onNavigate:r}){const[o,i]=c.useState([]),[x,h]=c.useState(!0),[p,d]=c.useState(null),[u,g]=c.useState("all"),[b,P]=c.useState(""),[y,Y]=c.useState(""),[A,T]=c.useState(-1),[I,O]=c.useState(!1),[E,D]=c.useState([]),L=c.useRef(null);c.useEffect(()=>{async function f(){try{const v=await fetch("/apps-registry.json");if(!v.ok)throw new Error("Failed to load apps registry");const w=await v.json();i(w.apps)}catch(v){d(v instanceof Error?v.message:"Unknown error")}finally{h(!1)}}f();const m=localStorage.getItem("recentApps");m&&D(JSON.parse(m))},[]),c.useEffect(()=>{const f=setTimeout(()=>Y(b),300);return()=>clearTimeout(f)},[b]),c.useEffect(()=>{T(-1)},[y,u]);const $=c.useCallback((f,m)=>{s?.("app_launch",{appName:m,appPath:f});const v=o.find(j=>j.path===f)?.manifest;v?.reactRoute&&r&&r(v.reactRoute);const w=[m,...E.filter(j=>j!==m)].slice(0,5);D(w),localStorage.setItem("recentApps",JSON.stringify(w))},[o,s,r,E]);function Z(){P(""),L.current?.focus()}const N=(()=>{const f=o.filter(m=>{const v=Ce[m.name],w=u==="all"||v===u;if(!y)return w;const j=y.toLowerCase(),ee=m.name.toLowerCase().includes(j)||m.manifest?.description?.toLowerCase().includes(j);return w&&ee});return!y&&E.length>0?f.sort((m,v)=>{const w=E.indexOf(m.name),j=E.indexOf(v.name);return w===-1&&j===-1?0:w===-1?1:j===-1?-1:w-j}):f})();return c.useEffect(()=>{function f(m){const v=m.target,w=v.tagName==="INPUT"||v.tagName==="TEXTAREA"||v.isContentEditable;if(m.key==="Escape"){if(I){O(!1);return}if(w){P(""),L.current?.blur(),T(-1);return}}if(m.key==="?"&&!w&&!m.shiftKey){O(!0);return}if((m.key==="ArrowDown"||m.key==="ArrowUp")&&!w){m.preventDefault(),T(j=>m.key==="ArrowDown"?j<N.length-1?j+1:j:j>0?j-1:-1);return}if(m.key==="Enter"&&A>=0&&!w){m.preventDefault();const j=N[A];j&&$(j.path,j.name);return}!w&&m.key.length===1&&!m.ctrlKey&&!m.metaKey&&!m.altKey&&L.current?.focus()}return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[I,A,N,$]),x&&o.length===0?e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(U,{}),e.jsx(R,{user:t,onLogout:a,onClearCache:l}),e.jsxs("div",{className:"relative z-10 container pt-4 pb-20",children:[e.jsx(F,{title:n.branding.title,subtitle:n.branding.subtitle}),e.jsx("div",{className:"mb-8 flex justify-center",children:e.jsx("div",{className:"h-12 bg-neutral-100 rounded-xl w-full max-w-md animate-pulse"})}),e.jsx("div",{className:"grid",children:Array.from({length:6}).map((f,m)=>e.jsx(Ee,{},m))})]})]}):p?e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(R,{user:t,onLogout:a,onClearCache:l}),e.jsx("div",{className:"container py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-xl p-6",children:[e.jsx("strong",{className:"font-semibold",children:"Error:"})," ",p]})})]}):e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(U,{}),e.jsx(R,{user:t,onLogout:a,onClearCache:l}),e.jsxs("div",{className:"relative z-10 container pt-4 pb-20",children:[e.jsx(F,{title:n.branding.title,subtitle:n.branding.subtitle}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ie,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400",size:20}),e.jsx("input",{ref:L,type:"text",placeholder:"Type to search apps...",value:b,onChange:f=>P(f.target.value),"aria-label":"Search apps",className:"w-full pl-12 pr-10 py-3 bg-white border border-neutral-200 rounded-xl text-neutral-900 placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent transition-all"}),b&&e.jsx("button",{onClick:Z,"aria-label":"Clear search",className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600 transition-colors",children:e.jsx(ce,{size:18})})]}),e.jsx(Se,{options:[{value:"all",label:"All"},{value:"productivity",label:"Productivity"},{value:"content",label:"Content"}],value:u,onChange:f=>g(f)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",role:"region","aria-live":"polite","aria-atomic":"true",children:[e.jsxs("p",{className:"text-neutral-600",children:[N.length," ",N.length===1?"app":"apps"]}),!y&&E.length>0&&e.jsx("p",{className:"text-xs text-neutral-500",children:"Recently used shown first"})]})]}),e.jsx("div",{className:"grid",role:"region","aria-label":"Applications",children:N.map((f,m)=>e.jsx(ke,{appName:f.name,manifest:f.manifest,path:f.path,onLaunch:$,isSelected:m===A,searchTerm:y},f.name))}),N.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("p",{className:"text-neutral-600 text-lg mb-2",children:"No apps found"}),e.jsx("p",{className:"text-neutral-500 text-sm",children:y?e.jsxs(e.Fragment,{children:["Try adjusting your search or"," ",e.jsx("button",{onClick:()=>g("all"),className:"text-brand-600 hover:text-brand-700 underline",children:"view all categories"})]}):"No apps in this category"})]})]}),I&&e.jsx(Ae,{onClose:()=>O(!1)})]})}class Re extends c.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){const l={message:t.message,stack:t.stack,componentStack:a.componentStack||void 0,timestamp:Date.now(),appName:this.props.appName};this.props.onError&&this.props.onError(l),console.error("[ErrorBoundary] Caught error:",l)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"#ef4444",background:"#fef2f2",borderRadius:"8px",margin:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 12px",fontSize:"1.25rem",fontWeight:600},children:"Something went wrong"}),e.jsx("p",{style:{margin:"0 0 16px",color:"#991b1b",fontSize:"0.875rem"},children:this.state.error?.message||"An unexpected error occurred"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Reload Page"})]}):this.props.children}}function _e({onSelect:n,currentRepository:t,userLogin:a}){const[l,s]=c.useState(t?.owner||a||""),[r,o]=c.useState(t?.name||""),i=x=>{x.preventDefault(),l.trim()&&r.trim()&&n({owner:l.trim(),name:r.trim()})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-16 h-16 bg-brand-100 rounded-2xl mx-auto flex items-center justify-center",children:e.jsx(H,{className:"text-brand-600",size:28})}),e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Select Repository"}),e.jsx("p",{className:"text-neutral-600",children:"Choose the GitHub repository to use with your apps"})]}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700 mb-2",children:[e.jsx(ue,{size:16}),"Owner"]}),e.jsx("input",{type:"text",value:l,onChange:x=>s(x.target.value),placeholder:a||"username",className:"w-full px-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700 mb-2",children:[e.jsx(H,{size:16}),"Repository Name"]}),e.jsx("input",{type:"text",value:r,onChange:x=>o(x.target.value),placeholder:"repository-name",className:"w-full px-4 py-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all",required:!0})]}),e.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-brand-500 to-brand-600 hover:from-brand-600 hover:to-brand-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[e.jsx(he,{size:20}),"Confirm Selection"]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 space-y-2 text-sm",children:[e.jsxs("p",{className:"text-neutral-600",children:[e.jsx("strong",{children:"Example:"})," For github.com/facebook/react"]}),e.jsxs("p",{className:"text-neutral-500 text-xs",children:["Owner: ",e.jsx("code",{className:"bg-white px-2 py-0.5 rounded",children:"facebook"})]}),e.jsxs("p",{className:"text-neutral-500 text-xs",children:["Repository: ",e.jsx("code",{className:"bg-white px-2 py-0.5 rounded",children:"react"})]})]})]})})}const ze="modulepreload",Pe=function(n){return"/"+n},B={},C=function(t,a,l){let s=Promise.resolve();if(a&&a.length>0){let x=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=o?.nonce||o?.getAttribute("nonce");s=x(a.map(h=>{if(h=Pe(h),h in B)return;B[h]=!0;const p=h.endsWith(".css"),d=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${d}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":ze,p||(u.as="script"),u.crossOrigin="",u.href=h,i&&u.setAttribute("nonce",i),document.head.appendChild(u),p)return new Promise((g,b)=>{u.addEventListener("load",g),u.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return s.then(o=>{for(const i of o||[])i.status==="rejected"&&r(i.reason);return t().catch(r)})},S={version:"1.0.0",repository:{owner:"jonasneves",name:"playground"},getRepository:()=>{const n=localStorage.getItem("repository-storage");if(n)try{const t=JSON.parse(n);if(t.state?.repository)return t.state.repository}catch{}return S.repository},branding:{title:"Playground",subtitle:"Launch and experiment with apps",theme:{primary:"#1e3a5f",secondary:"#2c4f7c"}},features:{analytics:!0,errorTracking:!0,serviceWorker:!1,caching:!0},api:{baseUrl:"https://api.github.com/repos",cacheTimeout:3e5},oauth:{serviceUrl:"https://oauth.neevs.io"}},V=ge("auth-storage"),q=be(S.api.cacheTimeout),J=je("analytics-storage",{enabled:S.features.analytics,maxEvents:100}),X=we("repository-storage");function Te(){const n=z();return e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center px-6",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("h1",{className:"text-6xl font-bold text-neutral-900 mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-neutral-600 mb-8",children:"Page not found"}),e.jsxs("button",{onClick:()=>n("/"),"aria-label":"Return to home page",className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-600 text-white rounded-xl hover:bg-brand-700 transition-colors",children:[e.jsx(K,{size:20}),"Back to home"]})]})})}function Ie(){const n=z(),{user:t,isAuthenticated:a,setAuth:l,logout:s}=V(),{clearCache:r}=q(),{track:o}=J(),{repository:i,setRepository:x}=X(),[h,p]=c.useState(!1);c.useEffect(()=>{a&&!i&&p(!0)},[a,i]);const d=i||S.repository;return e.jsxs(Ne,{oauthServiceUrl:S.oauth.serviceUrl,onAuthChange:(u,g)=>{u&&g&&l(u,g)},isAuthenticated:a,children:[h&&e.jsx(_e,{onSelect:u=>{x(u),p(!1)},currentRepository:i,userLogin:t?.login}),e.jsx(Le,{config:S,user:t,onLogout:s,onClearCache:()=>r(d.owner,d.name),onTrack:o,onNavigate:u=>n(u)})]})}const Oe=c.lazy(()=>C(()=>import("./ChatApp-DmmJVEqF.js"),__vite__mapDeps([0,1,2,3,4,5]))),$e=c.lazy(()=>C(()=>import("./CMSApp-CyQA2Nub.js"),__vite__mapDeps([6,1,2,3,7,5]))),Ge=c.lazy(()=>C(()=>import("./Dashboard-ldV5SMxb.js"),__vite__mapDeps([8,1,2,3,7,5]))),De=c.lazy(()=>C(()=>import("./FileBrowser-BOF6hfOy.js"),__vite__mapDeps([9,1,2,3,7,5]))),He=c.lazy(()=>C(()=>import("./TodoApp-Be8IcVfa.js"),__vite__mapDeps([10,1,2,3,4]))),Me=c.lazy(()=>C(()=>import("./SettingsApp-CUfjSK76.js"),__vite__mapDeps([11,1,2,3]))),Ue=c.lazy(()=>C(()=>import("./MedicalViz-BIEJjFII.js"),__vite__mapDeps([12,1,2,3])));function Fe(){return e.jsx("div",{className:"loading",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-5 border-4 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("p",{children:"Loading app..."})]})})}function k({appName:n,children:t}){const a=z(),l=J(p=>p.logError),{user:s,logout:r}=V(),{clearCache:o}=q(),{repository:i}=X(),x=i||S.repository,h=()=>{o(x.owner,x.name)};return c.useEffect(()=>{const p=d=>{if(d.key==="Escape"){const u=d.target;if(u.tagName==="INPUT"||u.tagName==="TEXTAREA")return;a("/gallery",{replace:!0})}};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(R,{user:s,onLogout:r,onClearCache:h}),e.jsx(Re,{appName:n,onError:l,children:e.jsx(c.Suspense,{fallback:e.jsx(Fe,{}),children:t})})]})}const Be=me([{path:"/",element:e.jsx(xe,{to:"/gallery",replace:!0})},{path:"/gallery",element:e.jsx(Ie,{})},{path:"/apps/chat",element:e.jsx(k,{appName:"chat",children:e.jsx(Oe,{})})},{path:"/apps/cms",element:e.jsx(k,{appName:"cms",children:e.jsx($e,{})})},{path:"/apps/dashboard",element:e.jsx(k,{appName:"dashboard",children:e.jsx(Ge,{})})},{path:"/apps/file-browser",element:e.jsx(k,{appName:"file-browser",children:e.jsx(De,{})})},{path:"/apps/todo",element:e.jsx(k,{appName:"todo",children:e.jsx(He,{})})},{path:"/settings",element:e.jsx(k,{appName:"settings",children:e.jsx(Me,{})})},{path:"/apps/medical-viz",element:e.jsx(k,{appName:"medical-viz",children:e.jsx(Ue,{})})},{path:"*",element:e.jsx(Te,{})}]),Q=document.getElementById("root");if(!Q)throw new Error("Root element not found");pe.createRoot(Q).render(e.jsx(c.StrictMode,{children:e.jsx(ve,{children:e.jsx(fe,{router:Be})})}));export{S as A,Se as P,_e as R,ye as a,X as b,q as c,J as d,V as u};
