import{r as o}from"./react-vendor-Ba9rDhQg.js";import{d as _}from"./index-J1rJmdXE.js";const f={thresholds:{ttfr:1e3,api_latency_ms:2e3,message_render_ms:100,preview_parse_ms:50,save_latency_ms:1500,data_load_ms:2e3,directory_load_ms:1500,scroll_performance_ms:16}};function m(n){const l=_(r=>r.trackMetric),c=o.useRef(new Map),a=o.useCallback(r=>{c.current.set(r,performance.now())},[]),t=o.useCallback(r=>{const s=c.current.get(r);if(s===void 0){console.warn(`[${n}] Timer "${r}" was never started`);return}const e=performance.now()-s;c.current.delete(r);const d=f.thresholds[r];return l(n,r,e,d),e},[n,l]),u=o.useCallback(async(r,s)=>{a(r);try{const e=await s();return t(r),e}catch(e){throw t(r),e}},[a,t]);return{startTimer:a,endTimer:t,measure:u}}export{m as u};
