import{r as a,j as e,m as f,T as g,n as j,o as p,p as v}from"./react-vendor-CaUiYEua.js";import{u as N}from"./useLocalStorage-C_Sg1gXz.js";import{P as y}from"./index-C2hdIUZW.js";import"./vendor-GYNWQ9K3.js";import"./state-DiVqNZBa.js";function C({onAdd:c}){const[s,l]=a.useState(""),r=a.useRef(null);a.useEffect(()=>{r.current?.focus()},[]);const m=i=>{i.preventDefault();const d=s.trim();d&&(c(d),l(""),r.current?.focus())};return e.jsxs("form",{onSubmit:m,className:"flex gap-3",children:[e.jsx("input",{ref:r,type:"text",value:s,onChange:i=>l(i.target.value),placeholder:"Add a new task...","aria-label":"New task",className:"flex-1 px-4 py-3 bg-white border border-neutral-200 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500"}),e.jsxs("button",{type:"submit",disabled:!s.trim(),"aria-label":"Add task",className:"px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white rounded-xl font-medium text-sm transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(f,{size:18}),"Add"]})]})}const k=a.memo(function({todo:s,onToggle:l,onDelete:r}){return e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white border border-neutral-200 rounded-xl hover:border-neutral-300 transition-colors group",children:[e.jsx("input",{type:"checkbox",checked:s.completed,onChange:()=>l(s.id),className:"w-5 h-5 rounded border-neutral-300 text-brand-600 focus:ring-2 focus:ring-brand-500 focus:ring-offset-0 cursor-pointer"}),e.jsx("span",{className:`flex-1 text-base ${s.completed?"text-neutral-400 line-through":"text-neutral-900"}`,children:s.text}),e.jsx("button",{onClick:()=>r(s.id),className:"opacity-0 group-hover:opacity-100 p-2 text-neutral-400 hover:text-red-600 transition-all rounded-lg hover:bg-red-50","aria-label":"Delete todo",children:e.jsx(g,{size:18})})]})});function S(){const[c,s]=N("todos",[]),[l,r]=a.useState("all"),m=a.useCallback(t=>{const o={id:`${Date.now()}-${Math.random()}`,text:t,completed:!1,createdAt:Date.now()};s(n=>[o,...n])},[s]),i=a.useCallback(t=>{s(o=>o.map(n=>n.id===t?{...n,completed:!n.completed}:n))},[s]),d=a.useCallback(t=>{s(o=>o.filter(n=>n.id!==t))},[s]),b=a.useCallback(()=>{s(t=>t.filter(o=>!o.completed))},[s]),u=c.filter(t=>l==="active"?!t.completed:l==="completed"?t.completed:!0),h=c.filter(t=>!t.completed).length,x=c.filter(t=>t.completed).length;return e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("button",{onClick:()=>r("all"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity duration-100",title:"Click to show all tasks",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-xl flex items-center justify-center",children:e.jsx(j,{className:"text-brand-600",size:22})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-xl font-semibold text-neutral-900",children:"Todo App"}),e.jsxs("p",{className:"text-sm text-neutral-500",children:[h," active, ",x," completed"]})]})]})}),e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8 space-y-6",children:[e.jsx(C,{onAdd:m}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"completed",label:"Completed"}],value:l,onChange:t=>r(t)}),x>0&&e.jsx("button",{onClick:b,className:"px-4 py-2 text-sm text-neutral-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Clear completed"})]}),u.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[l==="all"&&e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"text-neutral-300 mb-4",size:48}),e.jsx("p",{className:"text-neutral-500",children:"No tasks yet. Add one above!"})]}),l==="active"&&e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"text-brand-300 mb-4",size:48}),e.jsx("p",{className:"text-neutral-500",children:"All tasks completed!"})]}),l==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"text-neutral-300 mb-4",size:48}),e.jsx("p",{className:"text-neutral-500",children:"No completed tasks yet."})]})]}):e.jsx("div",{className:"space-y-2",children:u.map(t=>e.jsx(k,{todo:t,onToggle:i,onDelete:d},t.id))})]})]})}export{S as default};
