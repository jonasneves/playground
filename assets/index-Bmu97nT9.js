const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatApp-38odE_Vs.js","assets/react-vendor-CNslD6Mb.js","assets/vendor-7OC5HNn7.js","assets/state-CWLQzQDb.js","assets/useLocalStorage-BlcD5A7T.js","assets/usePerformanceMonitor-C8NCg2QX.js","assets/CMSApp-IleJhUjj.js","assets/index-CF9j0e2k.js","assets/Dashboard-gp1P5Jzm.js","assets/FileBrowser-D8acmEwf.js","assets/TodoApp-B3QdIP3U.js","assets/SettingsApp-IMOsvWOq.js"])))=>i.map(i=>d[i]);
import{c as C,r as u,j as e,u as k,G as M,C as _,H as R,R as D,S as U,T as F,L as B,A as W,a as L,b as V,N as q,d as K,e as J}from"./react-vendor-CNslD6Mb.js";import{p as z}from"./state-CWLQzQDb.js";import"./vendor-7OC5HNn7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();function X(o="auth-storage"){return C()(z(r=>({token:null,user:null,isAuthenticated:!1,setAuth:(a,i)=>r({token:a,user:i,isAuthenticated:!0}),logout:()=>{r({token:null,user:null,isAuthenticated:!1}),localStorage.clear(),window.location.href="/"}}),{name:o}))}function Q(o=3e5){return C()((r,a)=>({cacheTimeout:o,getCache:(i,t,s)=>{const n=`gh_${i}_${t}_${s}`,l=localStorage.getItem(n);if(!l)return null;try{const h=JSON.parse(l);return Date.now()-h.timestamp>a().cacheTimeout?(localStorage.removeItem(n),null):h}catch{return null}},setCache:(i,t,s,n,l)=>{const h=`gh_${i}_${t}_${s}`;try{localStorage.setItem(h,JSON.stringify({content:n,sha:l,timestamp:Date.now()}))}catch(c){console.warn("Cache storage failed:",c)}},clearCache:(i,t)=>{const s=`gh_${i}_${t}_`;Object.keys(localStorage).filter(l=>l.startsWith(s)).forEach(l=>localStorage.removeItem(l))},invalidateCache:(i,t,s)=>{const n=`gh_${i}_${t}_${s}`;localStorage.removeItem(n)}}))}function Y(o="analytics-storage",r={enabled:!0,maxEvents:100}){return C()(z((a,i)=>({events:[],errors:[],metrics:[],track:(t,s={})=>{if(!r.enabled)return;const n={type:t,data:s,timestamp:Date.now()};a(l=>({events:[...l.events.slice(-(r.maxEvents-1)),n]})),console.log("[Analytics]",t,s)},logError:t=>{r.enabled&&(console.error("[Analytics] Error logged:",t),a(s=>({errors:[...s.errors.slice(-99),t]})))},trackMetric:(t,s,n,l)=>{if(!r.enabled)return;const h=l?n>l:!1,c={appName:t,metricName:s,duration:n,timestamp:Date.now(),threshold:l,exceedsThreshold:h};h&&console.warn(`[${t}] ${s} exceeded threshold: ${n.toFixed(2)}ms > ${l}ms`),a(x=>({metrics:[...x.metrics.slice(-999),c]}))},clearMetrics:()=>a({metrics:[]}),clearErrors:()=>a({errors:[]}),getMetricStats:(t,s)=>{const n=i().metrics.filter(c=>c.appName===t&&c.metricName===s);if(n.length===0)return null;const l=n.map(c=>c.duration),h=n.filter(c=>c.exceedsThreshold).length;return{count:n.length,average:l.reduce((c,x)=>c+x,0)/l.length,min:Math.min(...l),max:Math.max(...l),exceedCount:h}}}),{name:o,partialize:a=>({events:a.events.slice(-50),metrics:a.metrics.slice(-100),errors:a.errors.slice(-20)})}))}const P=u.createContext(null);function Z({children:o}){const[r,a]=u.useState([]),i=u.useCallback(()=>{a([])},[]);return e.jsx(P.Provider,{value:{customItems:r,setCustomItems:a,clearCustomItems:i},children:o})}function ee(){const o=u.useContext(P);if(!o)throw new Error("useUserMenu must be used within UserMenuProvider");return o}function te({children:o,oauthServiceUrl:r,onAuthChange:a,isAuthenticated:i}){const[t,s]=u.useState(!0),[n,l]=u.useState(!1),[h,c]=u.useState(!1);u.useEffect(()=>{const d=new URLSearchParams(window.location.search),p=d.has("code")||d.has("state"),g=localStorage.getItem("github_token");if(!p&&!g){s(!1);return}const f=document.createElement("script");return f.src=`${r}/github-auth.js?v=${Date.now()}`,f.async=!0,f.onload=()=>{setTimeout(()=>{window.GitHubAuth?l(!0):(console.error("GitHubAuth not available after script load"),s(!1))},100)},f.onerror=()=>{console.error("Failed to load OAuth script"),s(!1)},document.head.appendChild(f),()=>{document.head.contains(f)&&document.head.removeChild(f)}},[r]),u.useEffect(()=>{if(!n)return;const d=new URLSearchParams(window.location.search),p=d.has("code")||d.has("state");if(window.GitHubAuth.isAuthenticated()){const g=window.GitHubAuth.getUser(),f=window.GitHubAuth.getToken();g&&f&&setTimeout(()=>{a(f,g),s(!1)},0)}else p&&(window.GitHubAuth.init({scope:"repo",onLogin:g=>{const f=window.GitHubAuth.getUser();f&&setTimeout(()=>{a(g,f),s(!1)},0)}}),c(!0)),s(!1)},[n,a]);const x=()=>{if(n)!h&&window.GitHubAuth&&(window.GitHubAuth.init({scope:"repo",onLogin:d=>{const p=window.GitHubAuth.getUser();p&&setTimeout(()=>{a(d,p)},0)}}),c(!0)),window.GitHubAuth.login();else{s(!0);const d=document.createElement("script");d.src=`${r}/github-auth.js?v=${Date.now()}`,d.async=!0,d.onload=()=>{setTimeout(()=>{window.GitHubAuth&&(window.GitHubAuth.init({scope:"repo",onLogin:p=>{const g=window.GitHubAuth.getUser();g&&setTimeout(()=>{a(p,g)},0)}}),window.GitHubAuth.login())},100)},document.head.appendChild(d)}};return t?e.jsx("div",{className:"loading",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{border:"4px solid rgba(255,255,255,0.3)",borderRadius:"50%",borderTopColor:"white",width:"50px",height:"50px",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),e.jsx("p",{children:"Initializing..."})]})}):i?e.jsx(e.Fragment,{children:o}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100 flex items-center justify-center p-6",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-500 to-brand-600 rounded-2xl mx-auto flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Welcome to Playground"}),e.jsx("p",{className:"text-neutral-600",children:"Launch and experiment with apps powered by your GitHub repository"})]}),e.jsxs("div",{className:"space-y-3 text-sm text-neutral-600",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Access your repository files and content"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Manage todos, chat, and browse files"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Secure authentication with GitHub"})]})]}),e.jsxs("button",{onClick:x,className:"w-full bg-gradient-to-r from-brand-500 to-brand-600 hover:from-brand-600 hover:to-brand-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),"Sign in with GitHub"]}),e.jsx("p",{className:"text-xs text-center text-neutral-500",children:"By signing in, you'll be redirected to GitHub to authorize access"})]})})})}function A({user:o,onLogout:r,onClearCache:a}){const[i,t]=u.useState(!1),s=u.useRef(null),n=k(),{customItems:l}=ee();u.useEffect(()=>{function d(p){s.current&&!s.current.contains(p.target)&&t(!1)}return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[]);const h=()=>{confirm("Clear all cached data? Apps will reload from the repository.")&&(a(),window.location.reload())},c=()=>{t(!1),n("/settings")},x=()=>{t(!1),window.location.href=window.location.href.split("#")[0]+"#/gallery"};return e.jsxs("div",{ref:s,className:"fixed top-3 right-3 z-50",children:[e.jsx("button",{onClick:()=>t(!i),"aria-label":"Open user menu","aria-expanded":i,className:"group relative flex items-center gap-0 group-hover:gap-4 bg-white/80 backdrop-blur-md border border-neutral-200 rounded-full p-1 group-hover:pl-2 group-hover:pr-7 hover:bg-white transition-all duration-200 shadow-sm overflow-hidden",children:o?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.avatar_url,alt:o.login,loading:"lazy",className:"w-10 h-10 rounded-full ring-2 ring-white flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-neutral-600 whitespace-nowrap w-0 group-hover:w-auto pl-0 group-hover:pl-1 pr-0 group-hover:pr-1 opacity-0 group-hover:opacity-100 transition-all duration-200",children:o.name?.split(" ")[0]||o.login})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-100 ring-2 ring-white flex items-center justify-center flex-shrink-0",children:e.jsx(M,{size:20,className:"text-neutral-600"})}),e.jsx(_,{size:14,className:"absolute -top-0.5 -right-0.5 text-amber-500 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),e.jsx("span",{className:"text-sm font-medium text-neutral-600 whitespace-nowrap w-0 group-hover:w-auto pl-0 group-hover:pl-1 pr-0 group-hover:pr-1 opacity-0 group-hover:opacity-100 transition-all duration-200",children:"Not logged in"})]})}),e.jsxs("div",{className:`absolute top-14 right-0 bg-white border border-neutral-200 rounded-2xl shadow-xl min-w-[200px] overflow-hidden transition-all duration-100 ${i?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-2"}`,children:[e.jsxs("button",{onClick:x,"aria-label":"Go to app gallery",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors",children:[e.jsx(R,{size:16})," Gallery"]}),e.jsxs("button",{onClick:()=>window.location.reload(),"aria-label":"Refresh page",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(D,{size:16})," Refresh"]}),o&&e.jsxs("button",{onClick:c,"aria-label":"Open settings",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(U,{size:16})," Settings"]}),l.length>0&&e.jsx(e.Fragment,{children:l.map(d=>d.component?e.jsx("div",{className:"border-t border-neutral-100",children:d.component},d.id):e.jsxs("button",{onClick:()=>{d.onClick(),t(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-colors border-t border-neutral-100 ${d.variant==="danger"?"text-red-600 hover:bg-red-50":"text-neutral-700 hover:bg-neutral-50"}`,children:[d.icon&&e.jsx(d.icon,{size:16}),d.label]},d.id))}),e.jsxs("button",{onClick:h,"aria-label":"Clear cache",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-neutral-700 hover:bg-neutral-50 transition-colors border-t border-neutral-100",children:[e.jsx(F,{size:16})," Clear Cache"]}),o&&e.jsxs("button",{onClick:r,"aria-label":"Log out",className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-neutral-100",children:[e.jsx(B,{size:16})," Logout"]})]})]})}function re(o,r){if(!o?.minLauncherVersion||!r)return null;const a=r.split(".").map(Number),i=o.minLauncherVersion.split(".").map(Number);for(let t=0;t<3;t++){if(a[t]<i[t])return`Requires launcher v${o.minLauncherVersion}`;if(a[t]>i[t])return null}return null}function se({appName:o,manifest:r,path:a,onLaunch:i,version:t}){if(!r)return e.jsx("div",{className:"bg-white rounded-2xl border border-neutral-200 shadow-sm overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:o}),e.jsx("p",{className:"text-neutral-400",children:"Loading..."})]})});const s=re(r,t);return e.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all duration-150 overflow-hidden group flex flex-col h-full",children:[e.jsx("div",{className:`w-full bg-gradient-to-br from-brand-50 to-neutral-50 flex items-center justify-center ${r.thumbnail?"h-32":"h-20"}`,children:r.thumbnail?e.jsx("img",{src:r.thumbnail,alt:r.name,loading:"lazy",className:"w-full h-full object-cover",onError:n=>{n.currentTarget.style.display="none"}}):e.jsx("div",{className:"text-4xl text-neutral-400",children:r.name.charAt(0)})}),e.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900 mb-1",children:r.name}),e.jsx("p",{className:"text-neutral-600 text-xs leading-relaxed mb-3 line-clamp-2",children:r.description}),s&&e.jsxs("div",{className:"flex items-center gap-1.5 text-amber-600 text-xs mb-3 bg-amber-50 px-2 py-1.5 rounded",children:[e.jsx(_,{size:12}),e.jsx("span",{className:"text-[10px]",children:s})]}),r.tech&&r.tech.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:r.tech.map(n=>e.jsx("span",{className:"bg-neutral-100 text-neutral-700 px-2 py-0.5 rounded-full text-[10px] font-medium",children:n},n))}),e.jsxs("button",{onClick:()=>i(a,r.name),"aria-label":`Launch ${r.name} app`,className:"inline-flex items-center justify-center gap-1.5 bg-gradient-to-r from-brand-600 to-brand-700 hover:from-brand-700 hover:to-brand-800 text-white px-3 py-2 rounded-lg font-medium text-xs transition-all duration-150 group-hover:gap-2 mt-auto",children:["Launch App",e.jsx(W,{size:14,className:"transition-transform duration-150"})]})]})]})}function ne({options:o,value:r,onChange:a}){return e.jsx("div",{className:"inline-flex bg-neutral-100 rounded-full p-1 gap-1",children:o.map(i=>e.jsx("button",{onClick:()=>a(i.value),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-100 ${r===i.value?"bg-white text-neutral-900 shadow-sm":"text-neutral-500 hover:text-neutral-700"}`,children:i.label},i.value))})}function ae({config:o,user:r,onLogout:a,onClearCache:i,onTrack:t,onNavigate:s}){const[n,l]=u.useState([]),[h,c]=u.useState(!0),[x,d]=u.useState(null),[p,g]=u.useState("all");u.useEffect(()=>{f()},[]);const f=async()=>{try{c(!0);const m=await fetch("/apps-registry.json");if(!m.ok)throw new Error("Failed to load apps registry");const v=(await m.json()).apps.map(y=>({name:y.name,path:y.path,manifest:y.manifest}));l(v),c(!1)}catch(m){d(m.message),c(!1)}},G=u.useCallback((m,N)=>{t?.("app_launch",{appName:N,appPath:m});const v=n.find(y=>y.path===m)?.manifest;v?.reactRoute&&s&&s(v.reactRoute)},[n,t,s]),H=m=>{const N=["todo","dashboard","settings"],v=["cms","file-browser"];return N.includes(m)?"productivity":v.includes(m)?"content":"all"},E=n.filter(m=>p==="all"?!0:H(m.name)===p);return h&&n.length===0?e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx("div",{className:"fixed top-[70%] left-[75%] -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] sm:w-[600px] sm:h-[600px] rounded-full bg-brand-500 blur-[100px] sm:blur-[150px] opacity-40 animate-breathe pointer-events-none"}),e.jsx(A,{user:r,onLogout:a,onClearCache:i}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("header",{className:"py-16 sm:py-24 text-center",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl font-semibold text-neutral-900 flex items-center justify-center gap-3 mb-3",children:[e.jsx(L,{className:"text-brand-600",size:40}),o.branding.title]}),e.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto px-4",children:o.branding.subtitle})]}),e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-neutral-200 border-t-brand-600 rounded-full animate-[spin_1s_linear_infinite]"}),e.jsx("p",{className:"text-neutral-600",children:"Loading applications..."})]})})]})]}):x?e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(A,{user:r,onLogout:a,onClearCache:i}),e.jsx("div",{className:"container py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 rounded-xl p-6",children:[e.jsx("strong",{className:"font-semibold",children:"Error:"})," ",x]})})]}):e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx("div",{className:"fixed top-[70%] left-[75%] -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] sm:w-[600px] sm:h-[600px] rounded-full bg-brand-500 blur-[100px] sm:blur-[150px] opacity-40 animate-breathe pointer-events-none"}),e.jsx(A,{user:r,onLogout:a,onClearCache:i}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("header",{className:"py-16 sm:py-24 text-center",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl font-semibold text-neutral-900 flex items-center justify-center gap-3 mb-3",children:[e.jsx(L,{className:"text-brand-600",size:40}),o.branding.title]}),e.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto px-4",children:o.branding.subtitle})]}),e.jsxs("div",{className:"container pb-20",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx(ne,{options:[{value:"all",label:"All"},{value:"productivity",label:"Productivity"},{value:"content",label:"Content"}],value:p,onChange:m=>g(m)})}),e.jsx("div",{className:"grid",children:E.map(m=>e.jsx(se,{appName:m.name,manifest:m.manifest,path:m.path,onLaunch:G},m.name))}),E.length===0&&e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-neutral-500",children:"No apps in this category"})})]})]})]})}class oe extends u.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){const i={message:r.message,stack:r.stack,componentStack:a.componentStack||void 0,timestamp:Date.now(),appName:this.props.appName};this.props.onError&&this.props.onError(i),console.error("[ErrorBoundary] Caught error:",i)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"#ef4444",background:"#fef2f2",borderRadius:"8px",margin:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 12px",fontSize:"1.25rem",fontWeight:600},children:"Something went wrong"}),e.jsx("p",{style:{margin:"0 0 16px",color:"#991b1b",fontSize:"0.875rem"},children:this.state.error?.message||"An unexpected error occurred"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Reload Page"})]}):this.props.children}}const ie="modulepreload",le=function(o){return"/"+o},S={},w=function(r,a,i){let t=Promise.resolve();if(a&&a.length>0){let h=function(c){return Promise.all(c.map(x=>Promise.resolve(x).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),l=n?.nonce||n?.getAttribute("nonce");t=h(a.map(c=>{if(c=le(c),c in S)return;S[c]=!0;const x=c.endsWith(".css"),d=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=x?"stylesheet":ie,x||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),x)return new Promise((g,f)=>{p.addEventListener("load",g),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(n){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n}return t.then(n=>{for(const l of n||[])l.status==="rejected"&&s(l.reason);return r().catch(s)})},b={version:"1.0.0",repository:{owner:"jonasneves",name:"playground"},branding:{title:"Playground",subtitle:"Launch and experiment with apps",theme:{primary:"#1e3a5f",secondary:"#2c4f7c"}},features:{analytics:!0,errorTracking:!0,serviceWorker:!1,caching:!0},api:{baseUrl:"https://api.github.com/repos",cacheTimeout:3e5},oauth:{serviceUrl:"https://oauth.neevs.io"}},T=X("auth-storage"),$=Q(b.api.cacheTimeout),O=Y("analytics-storage",{enabled:b.features.analytics,maxEvents:100});function ce(){const o=k();return e.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center px-6",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("h1",{className:"text-6xl font-bold text-neutral-900 mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-neutral-600 mb-8",children:"Page not found"}),e.jsxs("button",{onClick:()=>o("/"),"aria-label":"Return to home page",className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-600 text-white rounded-xl hover:bg-brand-700 transition-colors",children:[e.jsx(R,{size:20}),"Back to home"]})]})})}function de(){const o=k(),{user:r,token:a,isAuthenticated:i,setAuth:t,logout:s}=T(),{clearCache:n}=$(),{track:l}=O();return e.jsx(te,{oauthServiceUrl:b.oauth.serviceUrl,onAuthChange:(h,c)=>{h&&c&&t(h,c)},isAuthenticated:i,children:e.jsx(ae,{config:b,user:r,token:a,onLogout:s,onClearCache:()=>n(b.repository.owner,b.repository.name),onTrack:l,onNavigate:h=>o(h)})})}const ue=u.lazy(()=>w(()=>import("./ChatApp-38odE_Vs.js"),__vite__mapDeps([0,1,2,3,4,5]))),he=u.lazy(()=>w(()=>import("./CMSApp-IleJhUjj.js"),__vite__mapDeps([6,1,2,3,7,5]))),pe=u.lazy(()=>w(()=>import("./Dashboard-gp1P5Jzm.js"),__vite__mapDeps([8,1,2,3,7,5]))),me=u.lazy(()=>w(()=>import("./FileBrowser-D8acmEwf.js"),__vite__mapDeps([9,1,2,3,7,5]))),xe=u.lazy(()=>w(()=>import("./TodoApp-B3QdIP3U.js"),__vite__mapDeps([10,1,2,3,4]))),fe=u.lazy(()=>w(()=>import("./SettingsApp-IMOsvWOq.js"),__vite__mapDeps([11,1,2,3])));function ge(){return e.jsx("div",{className:"loading",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-5 border-4 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("p",{children:"Loading app..."})]})})}function j({appName:o,children:r}){const a=O(l=>l.logError),{user:i,logout:t}=T(),{clearCache:s}=$(),n=()=>{s(b.repository.owner,b.repository.name)};return u.useEffect(()=>{const l=h=>{if(h.key==="Escape"){const c=h.target;if(c.tagName==="INPUT"||c.tagName==="TEXTAREA")return;window.location.href=window.location.href.split("#")[0]+"#/gallery"}};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[]),e.jsxs(e.Fragment,{children:[e.jsx(A,{user:i,onLogout:t,onClearCache:n}),e.jsx(oe,{appName:o,onError:a,children:e.jsx(u.Suspense,{fallback:e.jsx(ge,{}),children:r})})]})}const be=V([{path:"/",element:e.jsx(q,{to:"/gallery",replace:!0})},{path:"/gallery",element:e.jsx(de,{})},{path:"/apps/chat",element:e.jsx(j,{appName:"chat",children:e.jsx(ue,{})})},{path:"/apps/cms",element:e.jsx(j,{appName:"cms",children:e.jsx(he,{})})},{path:"/apps/dashboard",element:e.jsx(j,{appName:"dashboard",children:e.jsx(pe,{})})},{path:"/apps/file-browser",element:e.jsx(j,{appName:"file-browser",children:e.jsx(me,{})})},{path:"/apps/todo",element:e.jsx(j,{appName:"todo",children:e.jsx(xe,{})})},{path:"/settings",element:e.jsx(j,{appName:"settings",children:e.jsx(fe,{})})},{path:"*",element:e.jsx(ce,{})}]),I=document.getElementById("root");if(!I)throw new Error("Root element not found");K.createRoot(I).render(e.jsx(u.StrictMode,{children:e.jsx(Z,{children:e.jsx(J,{router:be})})}));export{b as A,ee as a,$ as b,O as c,T as u};
