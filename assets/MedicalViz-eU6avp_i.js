import{r as o,j as e,s as P,t as A,v as k,U as T,w as L,x as R}from"./react-vendor-D74daRuX.js";import{a as b,i as g}from"./vendor-GYNWQ9K3.js";import"./state-DiVqNZBa.js";const f={pe:{title:"Suspected Pulmonary Embolism",data:[{name:"CTA Chest",score:9,organ:"lung"},{name:"V/Q Scan",score:7,organ:"lung"},{name:"D-dimer + CTA",score:8,organ:"lung"},{name:"Chest X-ray",score:3,organ:"lung"},{name:"MRA Chest",score:4,organ:"lung"}]},chestPain:{title:"Acute Chest Pain - Suspected ACS",data:[{name:"Coronary CTA",score:8,organ:"heart"},{name:"Stress Echo",score:7,organ:"heart"},{name:"Nuclear Stress",score:7,organ:"heart"},{name:"Chest X-ray",score:6,organ:"heart"},{name:"Cardiac MRI",score:5,organ:"heart"}]},headache:{title:"Headache - Acute, Severe",data:[{name:"CT Head w/o contrast",score:9,organ:"heart"},{name:"MRI Brain w/o contrast",score:7,organ:"heart"},{name:"CTA Head/Neck",score:6,organ:"heart"},{name:"MRA Head",score:6,organ:"heart"},{name:"Skull X-ray",score:1,organ:"heart"}]},backPain:{title:"Low Back Pain - Acute (<6 weeks)",data:[{name:"MRI Lumbar Spine",score:3,organ:"kidney"},{name:"CT Lumbar Spine",score:2,organ:"kidney"},{name:"X-ray Lumbar Spine",score:3,organ:"kidney"},{name:"Bone Scan",score:1,organ:"kidney"}]},abdominalPain:{title:"RUQ Pain - Suspected Cholecystitis",data:[{name:"US Abdomen",score:9,organ:"liver"},{name:"HIDA Scan",score:7,organ:"liver"},{name:"CT Abdomen w/ contrast",score:6,organ:"liver"},{name:"MRI Abdomen",score:5,organ:"liver"},{name:"X-ray Abdomen",score:2,organ:"spleen"}]},trauma:{title:"Blunt Trauma - Polytrauma",data:[{name:"CT Head w/o contrast",score:9,organ:"heart"},{name:"CT Chest w/ contrast",score:9,organ:"lung"},{name:"CT Abdomen/Pelvis",score:9,organ:"large-intestine"},{name:"CT C-spine",score:8,organ:"kidney"},{name:"FAST Ultrasound",score:7,organ:"liver"}]}};function I(n){return n>=7?"#16a34a":n>=4?"#ea580c":"#dc2626"}function v(){const n=o.useRef(null),a=o.useRef(null),[r,d]=o.useState("pe"),[s,p]=o.useState(!1);return o.useEffect(()=>{fetch("/assets/veins-medical-diagram.svg").then(l=>l.text()).then(l=>{b("organ_diagram",{svg:l}),p(!0)}).catch(l=>{console.error("Failed to load SVG:",l)})},[]),o.useEffect(()=>{if(!n.current||!s)return;a.current=g(n.current);const l=()=>{a.current?.resize()};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),a.current?.dispose()}},[s]),o.useEffect(()=>{if(!a.current||!s)return;const l=f[r],t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(255, 255, 255, 0.96)",borderColor:"#e5e5e5",borderWidth:1,padding:12,textStyle:{color:"#171717",fontSize:13},formatter:m=>{const i=m[0],c=i.value;let u="";return c>=7?u="Usually Appropriate":c>=4?u="May Be Appropriate":u="Usually Not Appropriate",`<div style="font-weight: 500; margin-bottom: 4px;">${i.name}</div>
                  <div style="font-size: 12px; color: #737373;">Score: ${c} · ${u}</div>`}},geo:{map:"organ_diagram",left:"2%",right:"55%",top:"5%",bottom:"5%",aspectScale:.85,roam:!1,selectedMode:"multiple",emphasis:{focus:"self",itemStyle:{color:null},label:{position:"bottom",distance:0,textBorderColor:"#fff",textBorderWidth:2}},blur:{},select:{itemStyle:{color:"#b50205"},label:{show:!1,textBorderColor:"#fff",textBorderWidth:2}}},grid:{left:"50%",right:"3%",top:"8%",bottom:"8%",containLabel:!0},xAxis:{type:"value",max:9,axisLabel:{fontSize:12,color:"#737373"},axisLine:{lineStyle:{color:"#e5e5e5"}},splitLine:{lineStyle:{color:"#f5f5f5"}}},yAxis:{type:"category",data:l.data.map(m=>m.name),axisLabel:{fontSize:13,color:"#404040"},axisLine:{lineStyle:{color:"#e5e5e5"}}},series:[{type:"bar",data:l.data.map(m=>({value:m.score,itemStyle:{color:I(m.score)},organ:m.organ})),barMaxWidth:32,emphasis:{focus:"self"}}]};a.current.setOption(t),a.current.off("mouseover"),a.current.off("mouseout"),a.current.on("mouseover",{seriesIndex:0},function(m){const i=m.data.organ;i&&a.current?.dispatchAction({type:"highlight",geoIndex:0,name:i})}),a.current.on("mouseout",{seriesIndex:0},function(m){const i=m.data.organ;i&&a.current?.dispatchAction({type:"downplay",geoIndex:0,name:i})})},[r,s]),e.jsxs("div",{className:"border border-neutral-200 rounded-lg bg-white",children:[e.jsxs("div",{className:"border-b border-neutral-200 p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Clinical Scenario"}),e.jsxs("select",{value:r,onChange:l=>d(l.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"pe",children:"Suspected Pulmonary Embolism"}),e.jsx("option",{value:"chestPain",children:"Acute Chest Pain - Suspected ACS"}),e.jsx("option",{value:"headache",children:"Headache - Acute, Severe"}),e.jsx("option",{value:"backPain",children:"Low Back Pain - Acute (<6 weeks)"}),e.jsx("option",{value:"abdominalPain",children:"Abdominal Pain - RUQ"}),e.jsx("option",{value:"trauma",children:"Blunt Trauma - Polytrauma"})]})]}),e.jsxs("div",{className:"px-4 py-3 bg-neutral-50 border-b border-neutral-200",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm mb-1",children:f[r].title}),e.jsx("div",{className:"text-xs text-neutral-600",children:"Hover over imaging modalities to highlight anatomy"})]}),e.jsx("div",{children:s?e.jsx("div",{ref:n,style:{width:"100%",height:"650px"}}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-sm text-neutral-500",children:"Loading diagram..."})})}),e.jsx("div",{className:"p-4 bg-neutral-50 border-t border-neutral-200",children:e.jsxs("div",{className:"flex items-center gap-6 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-green-600"}),e.jsx("span",{className:"text-neutral-600",children:"Usually Appropriate (7-9)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-orange-600"}),e.jsx("span",{className:"text-neutral-600",children:"May Be Appropriate (4-6)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-red-600"}),e.jsx("span",{className:"text-neutral-600",children:"Usually Not Appropriate (1-3)"})]})]})})]})}const y={sepsis:{title:"Sepsis - Source Unknown",description:"Multi-system evaluation for septic patient with unknown primary source",regions:[{organ:"lung",score:9,modality:"CT Chest w/ contrast"},{organ:"liver",score:9,modality:"CT Abdomen/Pelvis w/ contrast"},{organ:"heart",score:6,modality:"CT Head w/o contrast"},{organ:"kidney",score:5,modality:"MRI Spine w/ contrast"}]},trauma:{title:"Polytrauma - MVA",description:"Motor vehicle accident with multiple injuries requiring comprehensive imaging",regions:[{organ:"heart",score:9,modality:"CT Head w/o contrast"},{organ:"lung",score:9,modality:"CT Chest w/ contrast"},{organ:"large-intestine",score:9,modality:"CT Abdomen/Pelvis w/ contrast"},{organ:"kidney",score:8,modality:"CT C-spine"}]},cancer:{title:"Cancer Staging - Lung CA",description:"Initial staging workup for newly diagnosed lung cancer",regions:[{organ:"lung",score:9,modality:"CT Chest w/ contrast"},{organ:"liver",score:8,modality:"CT Abdomen w/ contrast"},{organ:"heart",score:7,modality:"MRI Brain w/ contrast"},{organ:"small-intestine",score:6,modality:"PET/CT whole body"}]},autoimmune:{title:"Systemic Lupus - Flare",description:"SLE patient with multi-organ involvement during disease flare",regions:[{organ:"heart",score:7,modality:"MRI Brain w/o contrast"},{organ:"lung",score:6,modality:"CT Chest High-Res"},{organ:"liver",score:7,modality:"MRI Abdomen w/ contrast"},{organ:"spleen",score:5,modality:"US Pelvis"}]},metastatic:{title:"Metastatic Disease - New Pain",description:"Known cancer patient with new multifocal pain concerning for metastases",regions:[{organ:"heart",score:8,modality:"MRI Brain w/ contrast"},{organ:"lung",score:7,modality:"CT Chest w/ contrast"},{organ:"liver",score:7,modality:"CT Abdomen w/ contrast"},{organ:"kidney",score:9,modality:"MRI Spine w/ contrast"}]}};function j(n){return n>=7?"#16a34a":n>=4?"#ea580c":"#dc2626"}function B(){const n=o.useRef(null),a=o.useRef(null),[r,d]=o.useState("sepsis"),[s,p]=o.useState(!1);o.useEffect(()=>{fetch("/assets/veins-medical-diagram.svg").then(t=>t.text()).then(t=>{b("organ_diagram",{svg:t}),p(!0)}).catch(t=>{console.error("Failed to load SVG:",t)})},[]),o.useEffect(()=>{if(!n.current||!s)return;a.current=g(n.current);const t=()=>{a.current?.resize()};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),a.current?.dispose()}},[s]),o.useEffect(()=>{if(!a.current||!s)return;const t=y[r],m={tooltip:{trigger:"item",backgroundColor:"rgba(255, 255, 255, 0.96)",borderColor:"#e5e5e5",borderWidth:1,padding:12,textStyle:{color:"#171717",fontSize:13},formatter:i=>`<div style="font-weight: 500; margin-bottom: 4px;">${i.data.modality}</div>
                  <div style="font-size: 12px; color: #737373;">Score: ${i.data.value}</div>`},geo:{map:"organ_diagram",left:"2%",right:"55%",top:"5%",bottom:"5%",aspectScale:.85,roam:!1,selectedMode:"multiple",emphasis:{focus:"self",itemStyle:{color:null},label:{position:"bottom",distance:0,textBorderColor:"#fff",textBorderWidth:2}},blur:{},select:{itemStyle:{color:"#b50205"},label:{show:!1,textBorderColor:"#fff",textBorderWidth:2}}},grid:{left:"50%",right:"3%",top:"8%",bottom:"8%",containLabel:!0},xAxis:{type:"category",data:t.regions.map(i=>i.organ.charAt(0).toUpperCase()+i.organ.slice(1).replace("-"," ")),axisLabel:{fontSize:13,color:"#404040"},axisLine:{lineStyle:{color:"#e5e5e5"}}},yAxis:{type:"value",max:9,axisLabel:{fontSize:12,color:"#737373"},name:"ACR Score",nameTextStyle:{fontSize:13,color:"#737373"},axisLine:{lineStyle:{color:"#e5e5e5"}},splitLine:{lineStyle:{color:"#f5f5f5"}}},series:[{type:"bar",data:t.regions.map(i=>({value:i.score,organ:i.organ,modality:i.modality,itemStyle:{color:j(i.score)}})),barMaxWidth:40,emphasis:{focus:"self"}}]};a.current.setOption(m),a.current.off("mouseover"),a.current.off("mouseout"),a.current.on("mouseover",{seriesIndex:0},function(i){const c=i.data.organ;c&&a.current?.dispatchAction({type:"highlight",geoIndex:0,name:c})}),a.current.on("mouseout",{seriesIndex:0},function(i){const c=i.data.organ;c&&a.current?.dispatchAction({type:"downplay",geoIndex:0,name:c})})},[r,s]);const l=y[r];return e.jsxs("div",{className:"border border-neutral-200 rounded-lg bg-white",children:[e.jsxs("div",{className:"border-b border-neutral-200 p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Clinical Scenario"}),e.jsxs("select",{value:r,onChange:t=>d(t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"sepsis",children:"Sepsis - Source Unknown"}),e.jsx("option",{value:"trauma",children:"Polytrauma - MVA"}),e.jsx("option",{value:"cancer",children:"Cancer Staging - Lung CA"}),e.jsx("option",{value:"autoimmune",children:"Systemic Lupus - Flare"}),e.jsx("option",{value:"metastatic",children:"Metastatic Disease - New Pain"})]})]}),e.jsxs("div",{className:"px-4 py-3 bg-neutral-50 border-b border-neutral-200",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm mb-1",children:l.title}),e.jsx("div",{className:"text-xs text-neutral-600",children:l.description})]}),e.jsx("div",{children:s?e.jsx("div",{ref:n,style:{width:"100%",height:"600px"}}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-sm text-neutral-500",children:"Loading diagram..."})})}),e.jsx("div",{className:"p-4 bg-neutral-50 border-t border-neutral-200",children:e.jsx("div",{className:"space-y-2",children:l.regions.map((t,m)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-neutral-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900 capitalize",children:t.organ.replace("-"," ")}),e.jsx("div",{className:"text-xs text-neutral-600",children:t.modality})]}),e.jsx("div",{className:"px-2 py-1 rounded text-xs font-semibold text-white",style:{backgroundColor:j(t.score)},children:t.score})]},m))})})]})}const N={chestImaging:{title:"Chest Imaging Options",description:"Compare radiation exposure for different chest imaging modalities",data:[{modality:"Chest X-ray",dose:.1,organ:"lung"},{modality:"CT Chest (Low Dose)",dose:1.5,organ:"lung"},{modality:"CT Chest (Standard)",dose:7,organ:"lung"},{modality:"CT Pulmonary Angio",dose:15,organ:"lung"},{modality:"MRI Chest",dose:0,organ:"lung"}]},abdominalImaging:{title:"Abdominal Imaging Options",description:"Radiation exposure comparison for abdominal studies",data:[{modality:"Abdominal X-ray",dose:.7,organ:"liver"},{modality:"CT Abdomen/Pelvis",dose:10,organ:"liver"},{modality:"CT Abdomen (Low Dose)",dose:5,organ:"liver"},{modality:"Ultrasound Abdomen",dose:0,organ:"liver"},{modality:"MRI Abdomen",dose:0,organ:"liver"}]},cardiac:{title:"Cardiac Imaging Options",description:"Compare radiation doses for cardiac imaging",data:[{modality:"Chest X-ray",dose:.1,organ:"heart"},{modality:"Coronary CTA",dose:12,organ:"heart"},{modality:"Nuclear Stress Test",dose:9,organ:"heart"},{modality:"Cardiac MRI",dose:0,organ:"heart"},{modality:"Echo (Ultrasound)",dose:0,organ:"heart"}]},pediatric:{title:"Pediatric Considerations",description:"Lower radiation protocols for children (chest imaging example)",data:[{modality:"Pediatric Chest X-ray",dose:.02,organ:"lung"},{modality:"Pediatric CT Chest",dose:2,organ:"lung"},{modality:"Adult CT Chest",dose:7,organ:"lung"},{modality:"Ultrasound",dose:0,organ:"lung"},{modality:"MRI",dose:0,organ:"lung"}]}};function M(n){return n===0?"#16a34a":n<3?"#65a30d":n<10?"#ea580c":"#dc2626"}function E(){const n=o.useRef(null),a=o.useRef(null),[r,d]=o.useState("chestImaging"),[s,p]=o.useState(!1);o.useEffect(()=>{fetch("/assets/veins-medical-diagram.svg").then(t=>t.text()).then(t=>{b("organ_diagram",{svg:t}),p(!0)}).catch(t=>{console.error("Failed to load SVG:",t)})},[]),o.useEffect(()=>{if(!n.current||!s)return;a.current=g(n.current);const t=()=>{a.current?.resize()};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),a.current?.dispose()}},[s]),o.useEffect(()=>{if(!a.current||!s)return;const t=N[r],m=Math.max(...t.data.map(c=>c.dose)),i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(255, 255, 255, 0.96)",borderColor:"#e5e5e5",borderWidth:1,padding:12,textStyle:{color:"#171717",fontSize:13},formatter:c=>{const u=c[0],x=u.value;let h="";return x===0?h="No radiation":x<3?h="Low dose":x<10?h="Moderate dose":h="Higher dose",`<div style="font-weight: 500; margin-bottom: 4px;">${u.name}</div>
                  <div style="font-size: 12px; color: #737373;">Dose: ${x} mSv · ${h}</div>`}},geo:{map:"organ_diagram",left:"2%",right:"55%",top:"5%",bottom:"5%",aspectScale:.85,roam:!1,selectedMode:"multiple",emphasis:{focus:"self",itemStyle:{color:null},label:{position:"bottom",distance:0,textBorderColor:"#fff",textBorderWidth:2}},blur:{},select:{itemStyle:{color:"#dc2626"},label:{show:!1,textBorderColor:"#fff",textBorderWidth:2}}},grid:{left:"50%",right:"3%",top:"8%",bottom:"8%",containLabel:!0},xAxis:{type:"value",max:Math.max(m*1.1,1),axisLabel:{fontSize:12,color:"#737373",formatter:"{value} mSv"},axisLine:{lineStyle:{color:"#e5e5e5"}},splitLine:{lineStyle:{color:"#f5f5f5"}}},yAxis:{type:"category",data:t.data.map(c=>c.modality),axisLabel:{fontSize:12,color:"#404040"},axisLine:{lineStyle:{color:"#e5e5e5"}}},series:[{type:"bar",data:t.data.map(c=>({value:c.dose,itemStyle:{color:M(c.dose)},organ:c.organ})),barMaxWidth:32,emphasis:{focus:"self"}}]};a.current.setOption(i),a.current.off("mouseover"),a.current.off("mouseout"),a.current.on("mouseover",{seriesIndex:0},function(c){const u=c.data.organ;u&&a.current?.dispatchAction({type:"highlight",geoIndex:0,name:u})}),a.current.on("mouseout",{seriesIndex:0},function(c){const u=c.data.organ;u&&a.current?.dispatchAction({type:"downplay",geoIndex:0,name:u})})},[r,s]);const l=N[r];return e.jsxs("div",{className:"border border-neutral-200 rounded-lg bg-white",children:[e.jsxs("div",{className:"border-b border-neutral-200 p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Imaging Scenario"}),e.jsxs("select",{value:r,onChange:t=>d(t.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"chestImaging",children:"Chest Imaging Options"}),e.jsx("option",{value:"abdominalImaging",children:"Abdominal Imaging Options"}),e.jsx("option",{value:"cardiac",children:"Cardiac Imaging Options"}),e.jsx("option",{value:"pediatric",children:"Pediatric Considerations"})]})]}),e.jsxs("div",{className:"px-4 py-3 bg-neutral-50 border-b border-neutral-200",children:[e.jsx("div",{className:"font-medium text-neutral-900 text-sm mb-1",children:l.title}),e.jsx("div",{className:"text-xs text-neutral-600",children:l.description})]}),e.jsx("div",{children:s?e.jsx("div",{ref:n,style:{width:"100%",height:"600px"}}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-sm text-neutral-500",children:"Loading diagram..."})})}),e.jsxs("div",{className:"p-4 bg-neutral-50 border-t border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-6 text-xs mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-green-600"}),e.jsx("span",{className:"text-neutral-600",children:"No radiation (0 mSv)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-lime-600"}),e.jsx("span",{className:"text-neutral-600",children:"Low (<3 mSv)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-orange-600"}),e.jsx("span",{className:"text-neutral-600",children:"Moderate (3-10 mSv)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm bg-red-600"}),e.jsx("span",{className:"text-neutral-600",children:"Higher (>10 mSv)"})]})]}),e.jsxs("div",{className:"text-xs text-neutral-600 space-y-1",children:[e.jsx("div",{children:"• Average natural background: ~3 mSv/year"}),e.jsx("div",{children:"• Transcontinental flight: ~0.03 mSv"}),e.jsx("div",{children:"• ALARA principle: As Low As Reasonably Achievable"}),r==="pediatric"&&e.jsx("div",{className:"mt-2 pt-2 border-t border-neutral-200 font-medium text-red-700",children:"⚠️ Children are more sensitive to radiation - use lowest dose protocols"})]})]})]})}const z={chestPain:{title:"Chest Pain Evaluation",patientComplaint:"You mentioned chest pain and shortness of breath",explanation:"We need to check your heart arteries for blockages and make sure there are no blood clots in your lungs.",modality:"CT Scan with Contrast",duration:"10-15 minutes",preparation:"No food 4 hours before. We'll give you an IV for contrast dye.",whatToExpect:"You'll lie on a table that slides through a donut-shaped machine. It's painless and quick."},headache:{title:"Severe Headache Workup",patientComplaint:"You have a severe headache that came on suddenly",explanation:"We need to check for bleeding, stroke, or other causes of your headache by looking at your brain tissue and blood vessels.",modality:"CT Scan of Head",duration:"5 minutes",preparation:"No preparation needed",whatToExpect:"Quick scan while you lie still. No needles unless we need contrast later."},abdominalPain:{title:"Abdominal Pain Assessment",patientComplaint:"You have pain in the upper right side of your belly",explanation:"We're checking your gallbladder for stones and making sure your liver is healthy.",modality:"Ultrasound",duration:"20-30 minutes",preparation:"No food for 6 hours before (so we can see the gallbladder better)",whatToExpect:"Warm gel on your belly. Technician moves a wand over your skin. No radiation."},backPain:{title:"Back Pain Evaluation",patientComplaint:"You have severe back pain with numbness in your leg",explanation:"We need to see if a disc is pressing on your nerves by looking at your spinal bones, discs, and nerve roots.",modality:"MRI of Spine",duration:"30-45 minutes",preparation:"Remove all metal objects. Tell us if you have any implants.",whatToExpect:"You'll hear loud knocking sounds. We'll give you earplugs. No radiation used."}};function W(){const[n,a]=o.useState("chestPain"),r=z[n];return e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Select patient scenario"}),e.jsxs("select",{value:n,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"chestPain",children:"Chest Pain"}),e.jsx("option",{value:"headache",children:"Severe Headache"}),e.jsx("option",{value:"abdominalPain",children:"Abdominal Pain"}),e.jsx("option",{value:"backPain",children:"Back Pain with Numbness"})]})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:r.title}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:r.patientComplaint})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Why We Need This Test"}),e.jsx("p",{className:"text-sm text-neutral-700 leading-relaxed",children:r.explanation})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"text-xs font-medium text-neutral-700 mb-1",children:"Type of Scan"}),e.jsx("div",{className:"text-sm text-neutral-900",children:r.modality})]}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"text-xs font-medium text-neutral-700 mb-1",children:"How Long"}),e.jsx("div",{className:"text-sm text-neutral-900",children:r.duration})]}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"text-xs font-medium text-neutral-700 mb-1",children:"Preparation"}),e.jsx("div",{className:"text-sm text-neutral-900",children:r.preparation})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"What to Expect"}),e.jsx("p",{className:"text-sm text-neutral-700 leading-relaxed",children:r.whatToExpect})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Questions?"}),e.jsx("p",{className:"text-sm text-neutral-700 leading-relaxed",children:"Feel free to ask your doctor or the imaging staff any questions before your scan. There are no silly questions - we want you to feel comfortable."})]})]})]})]})}const U={liverBiopsy:{name:"Liver Biopsy",indication:"Evaluate liver mass seen on CT",target:"Right lobe liver mass, 3cm from capsule",approach:"Right lateral approach through intercostal space",guidance:"CT fluoroscopy for real-time needle tracking",risks:["Bleeding","Pneumothorax","Pain"],prepSteps:["NPO 8 hours","Check INR/platelets","Consent signed","IV access established"]},thyroidBiopsy:{name:"Thyroid Nodule Biopsy",indication:"4cm thyroid nodule, suspicious features",target:"Right thyroid lobe, posterior nodule",approach:"Anterior neck approach between carotid and trachea",guidance:"Ultrasound guidance",risks:["Hematoma","Nerve injury","Infection"],prepSteps:["Patient supine, neck extended","Ultrasound survey","Mark entry site","Local anesthesia"]},kidneyBiopsy:{name:"Native Kidney Biopsy",indication:"Acute kidney injury, unclear etiology",target:"Lower pole of left kidney (safer approach)",approach:"Posterior approach, patient prone, avoid renal vessels",guidance:"Ultrasound with color Doppler",risks:["Bleeding","Hematoma","AV fistula"],prepSteps:["Type and screen","BP controlled","Patient prone","Pre-procedure ultrasound"]},lungBiopsy:{name:"Lung Nodule Biopsy",indication:"Spiculated 2cm RUL nodule",target:"Right upper lobe, peripheral nodule",approach:"Lateral chest wall, shortest distance, avoid fissures",guidance:"CT guidance with coaxial technique",risks:["Pneumothorax","Bleeding","Air embolism"],prepSteps:["Chest CT for planning","Patient positioning (lesion dependent)","Breath-hold instructions","Fluoroscopy available"]}};function H(){const[n,a]=o.useState("liverBiopsy"),r=U[n];return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Select Procedure"}),e.jsxs("select",{value:n,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"liverBiopsy",children:"Liver Biopsy"}),e.jsx("option",{value:"thyroidBiopsy",children:"Thyroid Biopsy"}),e.jsx("option",{value:"kidneyBiopsy",children:"Kidney Biopsy"}),e.jsx("option",{value:"lungBiopsy",children:"Lung Biopsy"})]})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-neutral-50 border-b border-neutral-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:r.name}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Indication:"})," ",r.indication]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"text-xs font-medium text-neutral-700 mb-1",children:"Target"}),e.jsx("div",{className:"text-sm text-neutral-900",children:r.target})]}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"text-xs font-medium text-neutral-700 mb-1",children:"Guidance"}),e.jsx("div",{className:"text-sm text-neutral-900",children:r.guidance})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Approach"}),e.jsx("p",{className:"text-sm text-neutral-700 leading-relaxed",children:r.approach})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"Preparation Steps"}),e.jsx("div",{className:"space-y-2",children:r.prepSteps.map((d,s)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:s+1}),e.jsx("div",{className:"text-sm text-neutral-700",children:d})]},s))})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"Potential Risks"}),e.jsx("ul",{className:"space-y-1",children:r.risks.map((d,s)=>e.jsxs("li",{className:"text-sm text-neutral-700 flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600",children:"•"}),d]},s))})]})]})]})]})}const w={backPain:{scenario1:{title:"Acute Low Back Pain (<6 weeks)",description:"No red flags, mechanical pain",imaging:[{name:"MRI Spine",score:3},{name:"CT Spine",score:2},{name:"X-ray Spine",score:3}]},scenario2:{title:"Chronic Low Back Pain (>6 weeks)",description:"With radiculopathy, failed conservative therapy",imaging:[{name:"MRI Spine",score:8},{name:"CT Myelography",score:7},{name:"X-ray Spine",score:5}]},rationale:"Acute back pain without red flags typically resolves without imaging. Chronic pain with neurological symptoms requires imaging to guide intervention."},headache:{scenario1:{title:"Chronic Migraine",description:"Typical pattern, normal neuro exam",imaging:[{name:"MRI Brain",score:3},{name:"CT Head",score:2},{name:"None",score:7}]},scenario2:{title:"Sudden Severe Headache",description:"Worst headache of life, thunderclap onset",imaging:[{name:"CT Head",score:9},{name:"CTA Head",score:8},{name:"MRI Brain",score:7}]},rationale:"Typical migraines don't require imaging. Thunderclap headache requires urgent imaging to rule out subarachnoid hemorrhage or other life-threatening causes."},pediatricVsAdult:{scenario1:{title:"Pediatric Appendicitis",description:"Child with RLQ pain, suspected appendicitis",imaging:[{name:"Ultrasound",score:9},{name:"MRI Abdomen",score:7},{name:"CT Abdomen",score:6}]},scenario2:{title:"Adult Appendicitis",description:"Adult with RLQ pain, suspected appendicitis",imaging:[{name:"CT Abdomen/Pelvis",score:9},{name:"Ultrasound",score:6},{name:"MRI Abdomen",score:5}]},rationale:"Children are more sensitive to radiation and often have less body fat, making ultrasound more effective. Adults benefit from CT's comprehensive evaluation."},pregnancy:{scenario1:{title:"Suspected PE - Not Pregnant",description:"Female patient, suspected pulmonary embolism",imaging:[{name:"CTA Chest",score:9},{name:"V/Q Scan",score:7},{name:"MRA Chest",score:4}]},scenario2:{title:"Suspected PE - Pregnant",description:"Pregnant female, suspected pulmonary embolism",imaging:[{name:"V/Q Scan",score:8},{name:"CTA Chest",score:7},{name:"Bilateral LE US",score:7}]},rationale:"Pregnancy requires balancing maternal benefit vs fetal radiation risk. V/Q scan delivers less fetal dose than CTA. Leg ultrasound can confirm DVT without radiation."}};function C(n){return n>=7?"#48bb78":n>=4?"#ed8936":"#f56565"}function V(){const n=o.useRef(null),a=o.useRef(null),r=o.useRef(null),d=o.useRef(null),[s,p]=o.useState("backPain");o.useEffect(()=>{n.current&&(r.current=g(n.current)),a.current&&(d.current=g(a.current));const t=()=>{r.current?.resize(),d.current?.resize()};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),r.current?.dispose(),d.current?.dispose()}},[]),o.useEffect(()=>{const t=w[s];if(r.current){const m={title:{text:t.scenario1.title,left:"center",textStyle:{fontSize:14,fontWeight:600,color:"#2d3748"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"5%",right:"5%",bottom:"5%",top:"20%",containLabel:!0},xAxis:{type:"value",max:9,axisLabel:{fontSize:11}},yAxis:{type:"category",data:t.scenario1.imaging.map(i=>i.name),axisLabel:{fontSize:11,color:"#4a5568"}},series:[{type:"bar",data:t.scenario1.imaging.map(i=>({value:i.score,itemStyle:{color:C(i.score)}})),barMaxWidth:30}]};r.current.setOption(m)}if(d.current){const m={title:{text:t.scenario2.title,left:"center",textStyle:{fontSize:14,fontWeight:600,color:"#2d3748"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"5%",right:"5%",bottom:"5%",top:"20%",containLabel:!0},xAxis:{type:"value",max:9,axisLabel:{fontSize:11}},yAxis:{type:"category",data:t.scenario2.imaging.map(i=>i.name),axisLabel:{fontSize:11,color:"#4a5568"}},series:[{type:"bar",data:t.scenario2.imaging.map(i=>({value:i.score,itemStyle:{color:C(i.score)}})),barMaxWidth:30}]};d.current.setOption(m)}},[s]);const l=w[s];return e.jsx("div",{className:"",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Select Comparison:"}),e.jsxs("select",{value:s,onChange:t=>p(t.target.value),className:"w-full px-4 py-2 border border-neutral-300 rounded-lg bg-white text-neutral-900 focus:outline-none focus:ring-2 focus:ring-brand-500",children:[e.jsx("option",{value:"backPain",children:"Acute vs Chronic Back Pain"}),e.jsx("option",{value:"headache",children:"Typical Migraine vs Thunderclap Headache"}),e.jsx("option",{value:"pediatricVsAdult",children:"Pediatric vs Adult Appendicitis"}),e.jsx("option",{value:"pregnancy",children:"PE Workup: Pregnant vs Not Pregnant"})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm overflow-hidden mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 divide-y lg:divide-y-0 lg:divide-x divide-neutral-200",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:l.scenario1.title}),e.jsx("p",{className:"text-sm text-neutral-700",children:l.scenario1.description})]}),e.jsx("div",{ref:n,style:{width:"100%",height:"300px"}})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:l.scenario2.title}),e.jsx("p",{className:"text-sm text-neutral-700",children:l.scenario2.description})]}),e.jsx("div",{ref:a,style:{width:"100%",height:"300px"}})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-3",children:"Clinical Rationale"}),e.jsx("p",{className:"text-neutral-700 leading-relaxed",children:l.rationale}),e.jsxs("div",{className:"mt-6 p-4 bg-neutral-50 rounded-lg border-l-4 border-neutral-200",children:[e.jsx("div",{className:"font-semibold text-neutral-900 mb-2",children:"Teaching Point"}),e.jsx("div",{className:"text-sm text-neutral-700",children:"Context matters in imaging selection. Patient age, pregnancy status, symptom duration, and clinical presentation all influence appropriateness of different imaging modalities."})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3 p-4 bg-white rounded-lg border border-neutral-200 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded",style:{backgroundColor:"#48bb78"}}),e.jsx("span",{className:"text-sm text-neutral-700",children:"Usually Appropriate (7-9)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded",style:{backgroundColor:"#ed8936"}}),e.jsx("span",{className:"text-sm text-neutral-700",children:"May Be Appropriate (4-6)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded",style:{backgroundColor:"#f56565"}}),e.jsx("span",{className:"text-sm text-neutral-700",children:"Usually Not Appropriate (1-3)"})]})]})]})})}const S=[{id:"acr",label:"ACR Criteria",icon:P,description:"Evidence-based imaging appropriateness scores"},{id:"multiregion",label:"Multi-System",icon:A,description:"Complex presentations requiring multi-organ evaluation"},{id:"radiation",label:"Radiation Safety",icon:k,description:"Dose comparison and ALARA considerations"},{id:"patient",label:"Patient Education",icon:T,description:"Plain-language imaging explanations"},{id:"procedure",label:"Procedure Planning",icon:L,description:"Interventional approach visualization"},{id:"comparative",label:"Comparative Analysis",icon:R,description:"Context-dependent imaging strategies"}];function X(){const[n,a]=o.useState("acr"),r=()=>{switch(n){case"acr":return e.jsx(v,{});case"multiregion":return e.jsx(B,{});case"radiation":return e.jsx(E,{});case"patient":return e.jsx(W,{});case"procedure":return e.jsx(H,{});case"comparative":return e.jsx(V,{});default:return e.jsx(v,{})}},d=S.find(s=>s.id===n);return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"border-b border-neutral-200",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(A,{className:"w-5 h-5 text-neutral-700",strokeWidth:2}),e.jsx("h1",{className:"text-lg font-medium text-neutral-900",children:"Medical Visualization"})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto",children:S.map(s=>{const p=s.icon,l=n===s.id;return e.jsxs("button",{onClick:()=>a(s.id),className:`
                    flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap transition-colors
                    ${l?"bg-neutral-100 text-neutral-900":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50"}
                  `,children:[e.jsx(p,{className:"w-4 h-4",strokeWidth:2}),e.jsx("span",{children:s.label})]},s.id)})})]})}),e.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:[d&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-neutral-600",children:d.description})}),r()]})]})}export{X as default};
